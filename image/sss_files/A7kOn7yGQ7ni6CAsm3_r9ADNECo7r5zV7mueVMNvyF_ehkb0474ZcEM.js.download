if (self.CavalryLogger) { CavalryLogger.start_js(["NBGu9pj"]); }

__d("MWListCell.bs",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return a}function b(a){return a}function c(a){return a}function d(a){return a}function e(a){return a}function h(a){return a}function i(a){return a}a={body:a,$$switch:b,checkbox:c,expander:d,icon:e,disclosure:h,secondaryButton:i};f.PrimaryAddOn=g;f.SecondaryAddOn=a}),null);
__d("MWInboxInfoBlockMessages.bs",["fbt","CometLazyDialogTrigger.react","FBID.bs","JSResourceForInteraction","LSContactBlockedByViewerStatus.bs","LsMessengerThreadDamagingActionsSourceOwner","ReQL.bs","ReQLSubscription.bs","ReStore.bs","SkytaleDB","bs_caml","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.contactId,d=a.children,e=a.loggingEntryPoint;a=a.loggingSource;var f=b("ReStore.bs").useHook(void 0),h=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("SkytaleDB").table(f,"contacts").asc,{hd:c,tl:0})},[f,JSON.stringify(c)])),j=h!==void 0?b("bs_caml").i64_eq(h.n,b("LSContactBlockedByViewerStatus.bs").messageBlocked):!1,k=h!==void 0?b("bs_caml").i64_eq(h.n,b("LSContactBlockedByViewerStatus.bs").fullyBlocked):!1,l=j||k?g._("Unblock"):g._("Block");if(h!==void 0)return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWChatBlockActionDialog",{name:"MWChatBlockActionDialog","class":"fluid"}).__setRef("MWInboxInfoBlockMessages.bs"),dialogProps:{targetFBID:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c)),threadFBID:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c)),onClose:function(a){},loggingData:{entryPoint:e,requestId:void 0,source:a,sourceOwner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI}},children:function(a,c){return b("bs_curry")._3(d,a,c,l)}});else return null}c=a;f.make=c}),null);
__d("MWUIThreadEmoji.bs",["cr:610"],(function(a,b,c,d,e,f){"use strict";a=b("cr:610").useEmoji;f.$MWLSThreadEmoji$OR$WorkplaceMSThreadEmoji$requireCond=b("cr:610");f.useEmoji=a}),null);
__d("MWChatTabContentNew.bs",["MWChatComposerMediaDropTarget.bs","MWChatComposerMessageRequestInfoText.bs","MWChatTabContent.bs","MWChatThreadCommon.bs","MWChatUserComposer.bs","MWLSThreadIsMessageRequest.bs","MWTheme.bs","MWUIThreadEmoji.bs","bs_caml_obj","bs_caml_option","bs_curry","cr:814","qex","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:814").make;c=b("cr:814").$MWChatAudioRecorderStreamSetup$Deferred;d=b("cr:814").MWChatComposer;e={$MWChatAudioRecorderStreamSetup$Deferred:c,MWChatComposer:d,make:j};function k(a){var c=a.id,d=a.items,e=a.dispatch,f=a.closeTab,g=a.otherUserFbid,k=a.customLikeEmoji,l=a.isTabFocused,m=a.hasContent,n=a.repliedToMessage,o=a.buildSharedMediaViewerURL,p=a.closeReplyPreview,q=a.onSendMessage,r=a.isOptimisticThread;a=a.isLoading;var s=r!==void 0?r:!1;r=a!==void 0?a:!1;var t=b("MWTheme.bs").useTheme(void 0);a=i.useRef(0);var u=i.useState(function(){return!1}),v=u[1],w=u[0];u=i.useRef(null);var x=i.useRef(null),y=i.useRef(null),z=b("MWLSThreadIsMessageRequest.bs").useHook(void 0),A=b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(b("qex")._("300")),"single_line"),B;B=t.TAG===0?void 0:{backgroundImage:b("MWTheme.bs").gradient(void 0,void 0,t._0.colors)};return i.jsx(i.Fragment,{children:i.jsx("div",{className:(h||(h=b("stylex")))(b("MWChatTabContent.bs").styles.main),children:i.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[i.jsx("div",{className:h(b("MWChatTabContent.bs").styles.thread),style:B,children:i.jsx(b("MWChatThreadCommon.bs").make,{id:c,items:d,hasMoreMessages:!1,isScrolledToBottomRef:a,dispatch:e,spacerRef:x,scrollerRef:u,buildSharedMediaViewerURL:o,forceContextBanner:!r})}),i.jsx("div",{className:h(A?b("MWChatTabContent.bs").styles.composerRedesign:b("MWChatTabContent.bs").styles.composer),children:i.jsx(b("MWChatUserComposer.bs").make,{threadId:c,chatComposer:function(a){return i.jsx(j,{color:b("MWTheme.bs").bottom(t),otherUserFbid:g,isPreviewThread:!0,isOptimisticThread:s,customLikeEmoji:k,isTabFocused:l,shouldShowMenu:!1,hasContent:m,repliedToMessage:n,actionTrayOpen:w,closeActionTray:function(a){return b("bs_curry")._1(v,function(a){return!1})},openActionTray:function(a){return b("bs_curry")._1(v,function(a){return!0})},fileUploadHandlerRef:y,messageRequestInfoText:i.jsx(b("MWChatComposerMessageRequestInfoText.bs").make,{closeTab:function(a){},size:"large",shouldShowMessageRequestInfoText:z}),closeReplyPreview:p,openTabFromPreview:function(a){return e("OpenTabFromPreview")},closeTab:f,onSendMessage:q})}})})],disabled:!1,fileUploadHandlerRef:y,xstyle:b("MWChatTabContent.bs").styles.dropTarget})})})}c={make:k};function a(a){var c=a.id,d=a.isTabFocused,e=a.dispatch,f=a.closeTab,g=a.messages,h=a.hasContent,j=a.changeRepliedToMessage,l=a.repliedToMessage,m=a.buildSharedMediaViewerURL,n=a.closeReplyPreview,o=a.onSendMessage,p=a.isOptimisticThread;a=a.isLoading;p=p!==void 0?p:!1;a=a!==void 0?a:!1;if(typeof c==="object"){var q=c.NAME;q=q==="User"||q==="Page"?b("bs_caml_option").some(c.VAL):void 0}else q=void 0;var r=b("bs_curry")._1(b("MWUIThreadEmoji.bs").useEmoji,void 0),s=function(a){if(typeof a==="object"&&a.NAME==="ClickReplyTo")return b("bs_curry")._1(j,a.VAL);else return e(a)};return i.jsx(k,{id:c,items:g,dispatch:s,closeTab:f,otherUserFbid:q,customLikeEmoji:r,isTabFocused:d,hasContent:h,repliedToMessage:l,buildSharedMediaViewerURL:m,closeReplyPreview:n,onSendMessage:o,isOptimisticThread:p,isLoading:a})}d=b("MWChatTabContent.bs").styles;a=a;f.styles=d;f.$MWChatComposer$OR$WorkChatComposer$requireCond=b("cr:814");f.Composer=e;f.Inner=c;f.make=a}),null);
__d("MWChatTabNew.bs",["CometPlaceholder.react","LSMailboxMessagesRangeQueryDirection.bs","MWChatComposer.bs","MWChatComposerMediaDropTarget.bs","MWChatConnectionStatusCard.bs","MWChatLoadMoreItemsIncrementally.bs","MWChatTabContentNew.bs","MWChatTabContentStyles.bs","MWLSChatThreadHook.bs","MWLSFetchMessagesPage.bs","MWLSRepliedToMessage.bs","MWLSTheme.bs","MWLSThreadHasMoreMessages.bs","MWTheme.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","bs_belt_Option","bs_caml_obj","bs_caml_option","bs_curry","cr:272","qex","react","recoverableViolation","stylex","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");d=[];function a(a){}var j=[d,a,!1],k=b("cr:272")==null?function(a,b,c){return[]}:b("cr:272").useMessageItems;function l(a){var c=a.hasContent,d=a.isTabFocused,e=a.openTabForGroup;a=b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(b("qex")._("300")),"single_line");var f=function(a){if(typeof a==="object"&&a.NAME==="Group")return e(a.VAL,!1);else{b("recoverableViolation")("expected group","messenger_web_product");return}},g=i.useRef(null);return i.jsx("div",{className:(h||(h=b("stylex")))(b("MWChatTabContentStyles.bs").styles.main),children:i.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[i.jsx("div",{className:h(b("MWChatTabContentStyles.bs").styles.thread)}),i.jsx("div",{className:h(a?b("MWChatTabContentStyles.bs").styles.composerRedesign:b("MWChatTabContentStyles.bs").styles.composer),children:i.jsx(b("MWChatComposer.bs").make,{color:b("MWTheme.bs").bottom(b("MWTheme.bs").$$default),otherUserFbid:void 0,isPreviewThread:!0,customLikeEmoji:void 0,isTabFocused:d,shouldShowMenu:!1,hasContent:c,repliedToMessage:void 0,actionTrayOpen:!1,closeActionTray:function(a){},openActionTray:function(a){},fileUploadHandlerRef:g,closeReplyPreview:function(a){},openTabFromPreview:function(a){},closeTab:function(a){},onSendMessage:f})})],disabled:!1,fileUploadHandlerRef:g,xstyle:b("MWChatTabContentStyles.bs").styles.dropTarget})})}e={make:l};function m(a){var c=a.threadId;a=a.children;b("MWLSChatThreadHook.bs").useThread(c);return a}d={make:m};function n(a){var c=a.isTabFocused,d=a.hasContent,e=a.openTabForGroup,f=a.openTabForUser,g=a.openTabForPage;a=a.isOptimisticThread;a=a!==void 0?a:!1;var h=b("MWThread_DEPRECATED.bs").useIdExn(void 0),l=b("MWThreadKey.bs").useIdMemoizedExn(void 0),m=b("MWLSRepliedToMessage.bs").useCurrentlyRepliedToMessage(void 0),n=m[2],o=function(a){var c=a.NAME;if(c==="Group")return e(a.VAL,!1);else if(c==="Page")return g(a.VAL,!1);else if(c==="User")return f(a.VAL,!1);else return b("unrecoverableViolation")("Not supported","messenger_web_product")},p=function(a,c){if(c)return b("XCometMessengerPhotoControllerRouteBuilder").buildURL({photo_ids:a.photo_ids,fbid:a.fbid,message_id:a.message_id});else return b("XCometMessengerMediaControllerRouteBuilder").buildURL({thread_id:h.VAL,attachment_id:a.fbid,message_id:a.message_id})},q=i.useState(function(){}),r=q[1];q=b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(b("qex")._("414")),"V2")?j:b("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(void 0,void 0,void 0,b("bs_curry")._3(k,void 0,0,void 0),b("MWLSFetchMessagesPage.bs").useFetchMessagesPage(void 0),b("MWLSThreadHasMoreMessages.bs").useThreadHasMoreMessages(void 0));var s=q[2],t=q[1];q=q[0];var u=[{NAME:"Messages",VAL:q}],v=q.length;q=s&&v<10;l=b("MWLSTheme.bs").useTheme(l);i.useEffect(function(){s&&v<10&&b("bs_curry")._1(t,b("LSMailboxMessagesRangeQueryDirection.bs").before)},[v,s,t]);return i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("MWTheme.bs").provider,{theme:l,children:i.jsx(b("MWChatTabContentNew.bs").make,{id:h,isTabFocused:c,dispatch:function(a){if(typeof a==="object")return;else if(a==="OpenTabFromPreview")return o(h);else if(a==="CloseReplyPreview")return b("bs_curry")._1(n,void 0);else return},closeTab:function(a){},messages:u,hasContent:d,changeRepliedToMessage:m[1],repliedToMessage:m[0],buildSharedMediaViewerURL:p,closeReplyPreview:function(a){return b("bs_curry")._1(r,function(a){})},onSendMessage:o,isOptimisticThread:a,isLoading:q})}),fallback:null})}a={make:n};function c(a){var c=a.previewThreadID,d=a.isTabFocused,e=a.isFetching,f=a.hasContent,g=a.tokens,h=a.openTabForUser,j=a.openTabForGroup,k=a.openTabForPage;a=a.empty;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;return i.jsxs(i.Fragment,{children:[i.jsx(b("MWChatConnectionStatusCard.bs").make,{}),e?null:c!==void 0?i.jsx(b("MWThread_DEPRECATED.bs").make,{id:c,children:i.jsx(b("MWThreadKey.bs").make,{id:b("MWThread_DEPRECATED.bs").toThreadKey(c),children:i.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:{_0:c},children:i.jsx(m,{children:i.jsx(n,{isTabFocused:d,hasContent:f,openTabForGroup:j,openTabForUser:h,openTabForPage:k}),threadId:c})})})}):g.length!==0?i.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:0,tokenProvider:function(a){return g.map(function(a){return a.getRawData().id})},children:i.jsx(l,{tokens:g,hasContent:f,isTabFocused:d,openTabForGroup:j})}):a]})}var o=b("bs_belt_Option").getWithDefault,p=b("MWChatTabContentStyles.bs").styles,q=10;c=c;f.$pipe$question=o;f.contentStyles=p;f.defaultUseLoadMoreValue=j;f.$Many$default$MWLSLoadOpenThreadMessages$$V2$null$requireCond=b("cr:272");f.ComposerToCreateNewThread=e;f.ExistingThreadPreviewContainer=d;f.maxMessageCountForPreview=q;f.ExistingThreadPreview=a;f.make=c}),null);
__d("useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=a.dataSource;a=i(!1);var c=a[0],d=a[1];a=h(function(a){a=a.requestParams;b.fetchNetwork(a,d)},[b]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useCometTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:1846070","debounce","react","recoverableViolation","useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;f=f.shouldDebounceNetwork;var k=f===void 0?!0:f,l=a.onResolvePayload,m=j(c("debounce")(function(a){return a()}));f=c("useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var n=f[1],o=h(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=j(g);i(function(){function a(a){var b=a.requestParams;a=b.requestFlow;a!=null&&(p.current=a);var c=function(){return n({requestParams:babelHelpers["extends"]({},b,{requestFlow:p.current})})};Boolean(k)?m.current(function(){return c()}):c()}d!=null&&a(d);var b=m.current;return function(){b.reset()}},[d,n,k,o]);i(function(){var a=e.subscribe(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:1846070")&&b("cr:1846070")(["all"],a)});return a},[e,o]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useCometTypeaheadSubscriptionDataSourceFetch",["react","recoverableViolation","useCometTypeaheadSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useState;function a(a){var b=j(null),d=b[0],e=b[1];b=c("useCometTypeaheadSubscriptionDataSourceFetchResolver")(a,d);b=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]),g=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]),k=a.dataSource;i(function(){return function(){k.unsubscribe()}},[k]);return[{isLoading:b,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,g]}g["default"]=a}),98);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadFetchContext","orEmptyArray","react","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadSubscriptionDataSourceFetch","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,k=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useCometTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){a=a.entries;var d=b.isTraceComplete;b=b.source;l(c("orEmptyArray")(a));m.logRequest(o);g&&g(a);k&&!k.isResolved()&&(d&&(b==="cache"&&a.length>=k.getEntriesCountForVisualComplete()?k.setEndReason("max_suggestions_reached"):b==="network"?k.setEndReason("all_queries_completed"):b==="network-no-results"&&k.setEndReason("all_queries_completed_no_network_results"),k.resolve()))},[l,g,k])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=j(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return h.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTokenizer.react",["CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","CometTokenizerInternal.react","emptyFunction","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[];function a(a,b){var d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.decorators,g=f===void 0?[]:f;f=a.emptyEntries_DO_NOT_USE;var j=a.onAddToken;j=j===void 0?c("emptyFunction"):j;var k=a.onBlur;k=k===void 0?c("emptyFunction"):k;var l=a.onChangeTokens,m=a.onClose,n=a.onEscape;n=n===void 0?c("emptyFunction"):n;var o=a.onFocus;o=o===void 0?c("emptyFunction"):o;var p=a.onOpen,q=a.onRemoveToken;q=q===void 0?c("emptyFunction"):q;var r=a.onSearchCompletion;r=r===void 0?c("emptyFunction"):r;var s=a.viewRole;s=s===void 0?"listbox":s;var t=a.tokensStrategyRenderer,u=a.tokens,v=a.loggingContext;a=babelHelpers.objectWithoutPropertiesLoose(a,["dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","viewRole","tokensStrategyRenderer","tokens","loggingContext"]);var w=c("useStable")(function(){var a=c("CometTokenizerInternal.react");g.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a});return h.jsx(c("CometInternalTypeaheadStateProvider"),{emptyEntries_DO_NOT_USE:f,onClose:m,onOpen:p,children:h.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:d,dataSourceFetchConfigParams:e,loggingContext:v,children:h.jsx(w,babelHelpers["extends"]({},a,{commandConfigs:i,onBackspace:c("emptyFunction"),onBlur:k,onChangeEntries:l,onDownArrow:c("emptyFunction"),onEnter:c("emptyFunction"),onEscape:n,onFocus:o,onHighlightEntry:c("emptyFunction"),onPressEntry:j,onRemoveEntry:q,onSearchCompletion:r,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),ref:b,selectedEntries:u,tokensStrategyRenderer:t,viewRole:s}))})})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometTokenizerInputStrategy.react",["BaseTextInput_DEPRECATED.react","CometTokenizerInputWidthResolver.react","cometTypeaheadInputWebkitStyles","react","stylex","useCometTypeaheadInputStrategyOnChangeHandler","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={disabled:{cursor:"rj84mg9z"},input:{backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",boxSizing:"rq0escxv",color:"oo9gr5id",display:"nc684nl6",fontSize:"jagab5yi",fontWeight:"knj5qynh",lineHeight:"fo6rh5oj",marginTop:"aov4n071",marginEnd:"oi9244e8",marginBottom:"bi6gxh9e",marginStart:"h676nmdw",maxWidth:"d2edcug0",outline:"lzcic4wl",resize:"ieid39z1"},root:{cursor:"o6r2urh6",maxWidth:"d2edcug0",overflowX:"ni8dbmo4",overflowY:"stjgntxs"}};function a(a,b){var d=a.ariaProps;a.description;a.errorMessage;var e=a.id,f=a.inputEndContent,g=a.inputStartContent,j=a.inputExtraProps;j=j===void 0?{}:j;var k=j.xstyle,l=a.isDisabled;a.label;j=a.onChange;var m=a.placeholder,n=a.queryString,o=a.testid,p=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","label","onChange","placeholder","queryString","testid"]),q=(o=e)!=null?o:c("useCometUniqueID")(),r=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:j});return h.jsxs("div",{className:c("stylex")(i.root,l===!0&&i.disabled),children:[g,h.jsx(c("CometTokenizerInputWidthResolver.react"),{placeholder:m,queryString:n,children:function(a){var e;return h.jsx(c("BaseTextInput_DEPRECATED.react"),babelHelpers["extends"]({},d,p,{autoComplete:"off",className:c("stylex")(i.input,k,c("cometTypeaheadInputWebkitStyles")["default"]),"data-testid":void 0,disabled:l,id:q,onChange:r,placeholder:(e=m)!=null?e:"",ref:b,spellCheck:!1,style:{width:a},type:"search",value:n}))}}),f]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWChatSearchInputStrategy.react",["CometTokenizerInputStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={inputXStyle:{paddingBottom:"osnr6wyh"}};function a(a,b){var d=i(function(){return{xstyle:j.inputXStyle}},[]);return h.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},a,{inputExtraProps:d,ref:b}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometTypeaheadSubscriptionDataSource",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.subscribe=function(a){return this.$2(a)};b.fetchNetwork=function(a,b){};b.publish=function(a){Array.from(this.$1).forEach(function(b){b(a)})};b.$2=function(a){var b=this;this.$1.add(a);return function(){b.$1["delete"](a)}};b.unsubscribe=function(){this.$1.clear()};return a}();f["default"]=a}),66);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["CometTypeaheadSubscriptionDataSource","FBLogger","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadDataEntry","cr:710","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadDecoratorRemoveExcluded","mwStaticSearchEntries","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var d,e=b.database,f=b.excludedIDs;f=f===void 0?[]:f;var g=b.lightspeedSupportedTypes;g=g===void 0?c("MWChatSearchIssueLightspeedQuery.re").allSupportedTypes:g;var h=b.source;h=h===void 0?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal:h;var i=b.includeRecommendations;i=i===void 0?!0:i;b=b.includeThreadSearch;b=b===void 0?!1:b;d=a.call(this)||this;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1=[];d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=[];d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=function(){};d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=f;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3=g;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4=h;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5=e;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource7=i;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource8=b;return d}var f=e.prototype;f.unsubscribe=function(){a.prototype.unsubscribe.call(this),this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6()};f.fetchNetwork=function(a,d){var e=this,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6();if(!(a.query.length===0&&!this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource7)){g.next=3;break}return g.abrupt("return",this.publish({entries:[],params:a}));case 3:d(!0);if(!(a.query.length===0)){g.next=7;break}this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=c("MWChatSearchIssueLightspeedQuery.re").requestRecommendations(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a,function(b){e.onData(a,b),d(!1)});return g.abrupt("return");case 7:f=[];if(!b("cr:710")){g.next=19;break}g.prev=9;g.next=12;return b("regeneratorRuntime").awrap(b("cr:710").fetchResults(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a));case 12:f=g.sent;g.next=18;break;case 15:g.prev=15,g.t0=g["catch"](9),c("FBLogger")("messenger_search").catching(g.t0).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults");case 18:this.onData(a,f);case 19:if(!(a.requestFlow==="network-upon-approve")){g.next=22;break}d(!1);return g.abrupt("return");case 22:this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=c("MWChatSearchIssueLightspeedQuery.re").requestResults(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a,function(b){e.onData(a,f.concat(b)),d(!1)});case 23:case"end":return g.stop()}},null,this,[[9,15]])};f.onData=function(a,b){b=b.map(c("MWChatSearchTypeaheadDataEntry").fromSearchResult);b=[].concat(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource8&&a.query.length?[d("mwStaticSearchEntries").createMessageSearchEntry(a.query)]:[],b,a.requestFlow==="network-upon-approve"?[d("mwStaticSearchEntries").createExpandSearchEntry()]:[]);var e=[],f=new Set();for(var b=b,g=Array.isArray(b),h=0,b=g?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=b.length)break;i=b[h++]}else{h=b.next();if(h.done)break;i=h.value}i=i;f.has(i.getKey())||(e.push(i),f.add(i.getKey()))}i={entries:e,params:a};h=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1);g=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2);this.publish(g(h(i)))};f.setTokens=function(a){this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1=a};return e}(c("CometTypeaheadSubscriptionDataSource"));g["default"]=a}),98);
__d("MWChatSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWChatSearchLightspeedTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.ariaProps,d=a.entries;a.extraViewProps;var e=a.highlightedEntry,f=a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var g=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]);return h.jsxs(h.Fragment,{children:[f&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),h.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),{ariaProps:b,entries:d,highlightedEntry:e,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return h.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:b,isActive:d,key:b.getKey(),role:a}))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ReStore.re",["ReStore.bs"],(function(a,b,c,d,e,f){a=b("ReStore.bs").Provider.make;f.Provider_make=a;c=b("ReStore.bs").useHook;f.useHook=c;d=b("ReStore.bs").Provider;f.Provider=d}),null);
__d("withMWChatEscapeDecorator",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var c=b.onSearchAbandon;return h.forwardRef(function(b,d){var e=b.onChange,f=b.onEscape,g=b.queryString,j=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChange","onEscape","queryString","selectedEntries"]);var k=i(function(){g!==""?e(""):j.length===0&&(c&&c()),f&&f()},[g,j.length,f,e]);return h.jsx(a,babelHelpers["extends"]({},b,{onChange:e,onEscape:k,queryString:g,ref:d,selectedEntries:j}))})}g["default"]=a}),98);
__d("withMWChatSearchTokenManagementDecorator",["MWChatSearchResultType","orEmptyArray","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect;function a(a,b){var d=b.dataSource;return h.forwardRef(function(b,e){var f=b.onChangeEntries,g=b.onPressEntry,k=b.onRemoveEntry,l=b.onSearchCompletion,m=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChangeEntries","onPressEntry","onRemoveEntry","onSearchCompletion","selectedEntries"]);j(function(){return d.setTokens(m)},[]);var n=i(function(a){var b=a.getRawData();b=b.resultType;if(b===c("MWChatSearchResultType").USER){b=[].concat(m,[a]);d.setTokens(b);f(b)}g&&g(a)},[f,g,m]),o=i(function(a){var b=c("orEmptyArray")(m).filter(function(b){return b.getKey()!==a.getKey()});f(b);d!=null&&d.setTokens(b);k&&k(a)},[f,k,m]),p=i(function(){d.setTokens([]),l&&l()},[l]);return h.jsx(a,babelHelpers["extends"]({},b,{onChangeEntries:f,onPressEntry:n,onRemoveEntry:o,onSearchCompletion:p,ref:e,selectedEntries:m}))})}g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.react",["BaseSubscriptionTokenizer.react","MAWGating","MWChatSearchInputStrategy.react","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWChatSearchTypeaheadViewStrategy.react","ReStore.re","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useStable","withMWChatEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.excludedIDs,e=a.includeRecommendations,f=e===void 0?!0:e;e=a.isDisabled;var g=a.layoutStategyRenderer,l=a.onAddToken,m=a.onChangeTokens,n=a.onSearchAbandon,o=a.onSearchCompletion,p=a.tokenItemRenderer,q=a.tokens;a=a.xstyles;var r=k(""),s=r[0];r=r[1];var t=d("ReStore.re").useHook(),u=c("useStable")(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:t,excludedIDs:b,includeRecommendations:f,lightspeedSupportedTypes:c("MWChatSearchIssueLightspeedQuery.re").allSupportedTypes,source:c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal})});n=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withMWChatEscapeDecorator"),params:{onSearchAbandon:n}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:u}}});var v=j(null),w=v.current;i(function(){w&&w.focus()},[w,q]);i(function(){u.setTokens(q)},[u,q]);p=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:p});return h.jsx(c("BaseSubscriptionTokenizer.react"),{autoFocus:!0,dataSource:u,dataSourceFetchConfigParams:d("MAWGating").isArmadillo()?{requestFlow:"network-upon-approve"}:{},decorators:n,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:e,layoutStrategyRenderer:g,loggingContext:"messenger_chat",onAddToken:l,onChange:r,onChangeTokens:m,onSearchCompletion:o,queryString:s,ref:v,testid:void 0,tokens:q,tokensStrategyRenderer:p,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.bs",["MWChatLightSpeedSearchTypeahead.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatLightSpeedSearchTypeahead.react");f.make=a}),null);
__d("LSWhatsAppConnectStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.whatsappNotAddressable=a;f.whatsappAddressable=c}),null);
__d("MWV2GroupMembershipMemberCell.bs",["fbt","ix","CometLazyPopoverTrigger.react","CometMiddot.react","FBID.bs","JSResource","LSContactBlockedByViewerStatus.bs","LSWhatsAppConnectStatus.bs","MWInboxRouteBuilder.bs","MWListCell.bs","TetraListCell.react","bs_caml","bs_caml_option","bs_curry","bs_int64","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.thread,d=a.participant,e=a.contact,f=a.showAdminIndicator,i=a.isMAWParticipantSuperAdmin,k=a.isSecure,l=a.cellRef,m=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("FBID.bs").ofStringExn(b("bs_int64").to_string(e.a))});a=d.f;a=a!==void 0?a:!1;var n=b("bs_caml").i64_neq(e.n,b("LSContactBlockedByViewerStatus.bs").unblocked),o=b("bs_caml").i64_eq(e.P,b("LSWhatsAppConnectStatus.bs").whatsappNotAddressable);if(k&&o)k=g._("Pending").toString();else if(f&&!i)k=a?g._("Admin"):null;else{o=d.g;k=o!==void 0?o:null}var p=[n?g._("Blocked"):null,n&&(f?a:d.g!==void 0)?j.jsx(b("CometMiddot.react"),{},"middot"):null,k],q=p.some(function(a){return a!==null});return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWV2GroupMembershipMenu.react").__setRef("MWV2GroupMembershipMemberCell.bs"),popoverProps:{onClose:function(a){},thread:c,participant:d,contact:e,isMAWParticipantSuperAdmin:i},popoverType:"menu",align:"end",preloadTrigger:"button",children:function(a,c,f,i,k,n,o){f={headline:e.h,addOnPrimary:{addOn:void 0,shape:"circle",size:36,source:{uri:e.b},alt:e.h,linkProps:{url:m},type:"profile-photo"},addOnSecondaryRef:a,addOnSecondary:b("MWListCell.bs").SecondaryAddOn.icon({"aria-label":g._("Card dropdown menu"),color:"secondary",icon:b("fbicon")._(h("484388"),24),onHoverOut:function(a){return b("bs_curry")._1(k,void 0)},onHoverIn:b("bs_curry").__1(i),onPress:function(a){return b("bs_curry")._1(c,void 0)},onPressIn:b("bs_curry").__1(n),type:"icon",testid:"mw_participant_list_dropdown_menu_button_"+b("bs_int64").to_string(d.b)}),level:4};o=q?b("bs_caml_option").some(j.jsx(j.Fragment,{children:p})):void 0;o!==void 0&&(f.body=b("bs_caml_option").valFromOption(o));l!==void 0&&(f.ref=b("bs_caml_option").valFromOption(l));return j.jsx(b("TetraListCell.react"),f)}})}c=a;f.make=c}),null);
__d("MWV2GroupMembershipMemberList.bs",["LSMessagingThreadTypeUtil.bs","MAWThreadId.bs","MWV2GroupMembershipMemberCell.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReStore.bs","SkytaleDB","bs_curry","bs_int64","cr:470","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.showAdminsOnly,e=a.showAdminIndicator,f=b("ReStore.bs").useHook(void 0);a=h.useState(function(){});var g=a[1],i=a[0];a=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(f,"participants").asc,{hd:c.a,tl:0}),b("SkytaleDB").table(f,"contacts").asc)},[f,JSON.stringify(c.a)]));a=a.slice(0).sort(function(a,b){return b[1].o-a[1].o});d=d?a.filter(function(a){a=a[0].f;if(a!==void 0)return a;else return!1}):a;var j=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c);h.useEffect(function(){if(!(b("cr:470")==null)&&j){var a=b("MAWThreadId.bs").ofThreadKey(c.a);a&&b("bs_curry")._1(b("bs_curry")._1(b("cr:470").getGroupSuperAdmin,{threadId:a._0}).sendAndReceive,void 0).then(function(a){b("bs_curry")._1(g,function(b){return a});return b("Promise").resolve(void 0)})}},[JSON.stringify(c.a)]);return d.map(function(a){var d=a[1];return h.jsx(b("MWV2GroupMembershipMemberCell.bs").make,{thread:c,participant:a[0],contact:d,showAdminIndicator:e,isMAWParticipantSuperAdmin:j&&i!==void 0?i===b("bs_int64").to_string(d.a):!1,isSecure:j},b("bs_int64").to_string(d.a))})}c=a;f.$MAWBackendBridge$requireCond=b("cr:470");f.make=c}),null);
__d("MWInboxInfoNotifications.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MWChatCalculateIsMutedFromExpireTime.bs","MWChatUnmuteThread.bs","MessengerMuteUtils.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=a.children;a=b("MessengerMuteUtils.bs").calcMuteUntilMs(c);var e=b("MWChatCalculateIsMutedFromExpireTime.bs").useHook(a),f=b("MWChatUnmuteThread.bs").useHook(c),h=e?g._("Unmute Conversation"):g._("Mute Conversation");a=b("MessengerMuteUtils.bs").mutedUntilLabel(a/1e3);var j=a!==void 0?a:void 0;return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSMuteThreadDialogForJSResource.react").__setRef("MWInboxInfoNotifications.bs"),dialogProps:{thread:c},children:function(a,c){return b("bs_curry")._5(d,function(c){if(e)return b("bs_curry")._1(f,void 0);else return b("bs_curry")._1(a,void 0)},c,h,j,e)}})}c=a;f.make=c}),null);
__d("CometTokenizerLayoutContextualStrategy.react",["CometTokenizerInternalLayoutContextualStrategy.react","CometTypeaheadHelperText.react","react","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTokenizerInternalLayoutContextualStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={view:{backgroundColor:"cwj9ozl2",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",maxHeight:"nu4hu5il",minHeight:"e9s0xebz"}};function a(a,b){var d=a.extraLayoutProps;d=d===void 0?{}:d;var e=d.afterViewContent;d=d.beforeViewContent;var f=a.helperText,g=a.isDisabled,j=a.label,k=a.onAbandonTypeahead_DO_NOT_USE,l=a.onBackspace,m=a.onBlur,n=a.onChange,o=a.onClick,p=a.onDownArrow,q=a.onEnter,r=a.onEscape,s=a.onHighlightEntry,t=a.onOutsideClick,u=a.onPressEntry,v=a.onRemoveEntry,w=a.onShiftTab,x=a.onTab,y=a.onUpArrow,z=a.queryString,A=a.viewRole,B=a.selectedEntries,C=a.xstyles;C=C===void 0?{}:C;var D=C.viewXStyle_DO_NOT_USE;C=babelHelpers.objectWithoutPropertiesLoose(C,["viewXStyle_DO_NOT_USE"]);a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","isDisabled","label","onAbandonTypeahead_DO_NOT_USE","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onShiftTab","onTab","onUpArrow","queryString","viewRole","selectedEntries","xstyles"]);b=c("useCometTypeaheadInputRefs")(b);var E=b.composedRef;b=b.inputRef;var F=c("useCometInternalTypeaheadState")(),G=F.activeEntries,H=F.highlightedEntry;F=F.isOpened;var I=c("useCometInternalTypeaheadFetch")();I=I.isLoading;b=c("useCometTokenizerInternalLayoutContextualStrategyHandlers")({inputRef:b,isDisabled:g,onAbandonTypeahead_DO_NOT_USE:k,onBackspace:l,onBlur:m,onChange:n,onClick:o,onDownArrow:p,onEnter:q,onEscape:r,onHighlightEntry:s,onOutsideClick:t,onPressEntry:u,onRemoveEntry:v,onShiftTab:w,onTab:x,onUpArrow:y,queryString:z,selectedEntries:B});k=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:G,helperText:f,highlightedEntry:H,inputLabel:j,isOpened:F,viewRole:A});l=c("useCometTypeaheadLayoutStrategyStyles")({xstyles:babelHelpers["extends"]({},C,{viewXStyle_DO_NOT_USE:[i.view,D]})});return h.jsx(c("CometTokenizerInternalLayoutContextualStrategy.react"),babelHelpers["extends"]({},a,b,{extraLayoutProps:{afterViewContent:e,ariaProps:k,beforeViewContent:d,helperTextComponent:f!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:f}):null,isLoading:I,isOpened:F},helperText:f,isDisabled:g,label:j,queryString:z,ref:E,selectedEntries:B,viewRole:A,xstyles:l}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWChatTokenizerLayoutContextualStrategy.react",["fbt","CometTokenizerLayoutContextualStrategy.react","CurrentUser","gkx","react","stylex","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useMemo,l={layout:{height:"datstx6m",width:"k3oul89m"},root:{display:"j83agx80"},to:{color:"oo9gr5id",fontSize:"jq4qci2q",fontWeight:"knj5qynh",lineHeight:"a3bd9o3v",marginStart:"dhix69tm",marginTop:"aov4n071",position:"pmk7jnqg"},typeaheadInput:{backgroundColor:"nred35xi",boxSizing:"rq0escxv",display:"a8c37x1j",paddingEnd:"dflh9lhu",paddingStart:"jxo0map8"},view:{backgroundColor:"nred35xi",borderTop:"opwvks06",flexShrink:"g5gj957u",maxHeight:"nyzjzqfi",minHeight:"b8v32qnc",width:"jbcpqwzg","@media (min-height: 1280px)":{maxHeight:"gbk4by2p",minHeight:"a3d5bthu"}}};function a(a,b){a===void 0&&(a=!1);b===void 0&&(b="root");function d(d,e){var f=d.xstyles;f=f===void 0?{}:f;var g=f.viewXStyle_DO_NOT_USE;f=babelHelpers.objectWithoutPropertiesLoose(d,["xstyles"]);d=c("useCometInternalTypeaheadStateDispatcher")();var m=d.dispatchIsOpened;j(function(){(a||!c("gkx")("1526694")||c("CurrentUser").isWorkUser())&&m(!0)},[]);d=k(function(){return{inputXStyle:[l.typeaheadInput],layoutXStyle:[l.layout],viewXStyle_DO_NOT_USE:[l.view,g]}},[g]);return i.jsxs("div",{className:c("stylex")(l.root),children:[i.jsx("div",{className:c("stylex")(l.to),children:h._("To:")}),i.jsx(c("CometTokenizerLayoutContextualStrategy.react"),babelHelpers["extends"]({},f,{contextualProps:{align:"start",disableAutoFlip:!0},label:h._("Search by name or group"),layerContext:b,ref:e,xstyles:d}))]})}d.displayName=d.name+" [from "+f.id+"]";return i.forwardRef(d)}g.createMWChatTokenizerLayoutContextualStrategy=a}),98);
__d("MWChatTokenizerTokenStrategy.react",["CometTokenizerTokenStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("div",{"data-testid":void 0,children:h.jsx(c("CometTokenizerTokenStrategy.react"),babelHelpers["extends"]({},a,{level:4}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWChatSearchTypeaheadCallbacks",["MessengerWebEventsFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;a=function(a,b){var d=h(function(b){b.find(function(a){return a.getIsInstagramAccount()})||a(b)},[a]),e=h(function(a){var d=a.getResultType(),e=a.getRawData(),f=e.id;switch(d){case"user":c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",other_user_fbid:f}});a.getIsInstagramAccount()&&b(f,!1);return;case"group":c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",thread_fbid:f}});return b(f,!1);case"page":c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",other_user_fbid:f}});return b(f,!1)}},[b]);return[d,e]};g.useMWChatSearchTypeaheadCallbacks=a}),98);
__d("LSContactIdType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.unknown=a;f.fbid=c;f.smsLocalId=d}),null);
__d("LSContactViewerRelationship.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.unknown=a;f.notContact=c;f.contactOfViewer=d;f.facebookFriend=e;f.softContact=b}),null);
__d("MWV2OnAuthoritativeThreadInsert.bs",["LSAuthorityLevel.bs","ReQL.bs","SkytaleDB","SortedAsyncIterable.bs","bs_caml","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=b("SkytaleDB").table(c,"threads").index("clientThreadKey");c=c.asc;a=a[0];var e={contents:function(a){}};e.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(c,{hd:a,tl:0}),function(a,c){if(typeof c==="number")return;a=c._0;if(b("bs_caml").i64_eq(a.Z,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(d,a);return b("bs_curry")._1(e.contents,void 0)}})}f.onAuthoritativeThreadInsert=a}),null);
__d("MWThreadPreview.bs",["CometProgressRingIndeterminate.react","FBID.bs","LS.bs","LSAuthorityLevel.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactVerifyContactRowExistsStoredProcedure","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSInt64.bs","LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure","LSMailboxVerifyThreadRowExistsStoredProcedure","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","LSVec.bs","MWChatConnectionStatusCard.bs","MWChatTabNew.bs","MWLSActor.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","MWV2OnAuthoritativeThreadInsert.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReStore.bs","SkytaleDB","bs_caml_format","bs_caml_option","bs_curry","bs_int64","promiseDone","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",flexGrow:"buofh1pr"},threadPreviewContainer:{display:"j83agx80",flexBasis:"rj1gh0hx",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",fontSize:"jq4qci2q",zIndex:"du4w35lb"}};function a(a,b){}var k=i.createContext({hasContent:{contents:!1},isTabFocused:!1,onBeforeOpenTabForGroup:function(a){},openTabForUser:a,openTabForGroup:a,openTabForPage:a,submitted:!1});function l(a){var c=a.children,d=a.hasContent,e=a.isTabFocused,f=a.onBeforeOpenTabForGroup,g=a.openTabForUser,h=a.openTabForGroup;a=a.openTabForPage;var j=i.useState(function(){return!1}),l=j[1],m=i.useCallback(function(a){b("bs_curry")._1(l,function(a){return!0});return b("bs_curry")._1(f,void 0)},[l,f]);j=j[0];d={hasContent:d,isTabFocused:e,onBeforeOpenTabForGroup:m,openTabForUser:g,openTabForGroup:h,openTabForPage:a,submitted:j};return i.createElement(k.Provider,{value:d,children:c})}d={make:l};function m(a){var c=a.thread;a=c.a;var d=c.O,e=d!==void 0?b("LSInt64.bs").string(d)===b("LSInt64.bs").string(a):!1;d=b("LSMessagingThreadTypeUtil.bs").isGroup(a)||e?{NAME:"Group",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))}:{NAME:"User",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))};var f=i.useContext(k),g=f.submitted,l=f.openTabForGroup,m=f.onBeforeOpenTabForGroup,n=i.useMemo(function(){return function(a,c){b("bs_curry")._1(m,void 0);if(!e)return l(a,c)}},[l,e,m]);i.useEffect(function(){var a=c.O;a!==void 0&&g&&b("bs_int64").to_string(a)!==b("bs_int64").to_string(c.a)&&l(b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.a)),!1)},[c,l,g]);return i.jsx("div",{className:(h||(h=b("stylex")))(j.threadPreviewContainer),children:i.jsx(b("MWThread_DEPRECATED.bs").make,{id:d,children:i.jsx(b("MWThreadKey.bs").make,{id:a,children:i.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:{_0:d},children:i.jsx(b("MWChatTabNew.bs").ExistingThreadPreview.make,{isTabFocused:f.isTabFocused,hasContent:f.hasContent,openTabForGroup:n,openTabForUser:f.openTabForUser,openTabForPage:f.openTabForPage,isOptimisticThread:e})})})})})}e={make:m};function n(a){var c=a.threadKey,d=a.threadType,e=b("ReStore.bs").useHook(void 0);i.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSMailboxVerifyThreadRowExistsStoredProcedure")(b("bs_caml_format").caml_int64_of_string(c),d,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},[e,c,d]);a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("SkytaleDB").table(e,"threads").asc,{hd:b("bs_caml_format").caml_int64_of_string(c),tl:0})},[e,c]));if(a!==void 0)return i.jsx(m,{thread:a});else return i.jsx("div",{className:(h||(h=b("stylex")))(j.spinner),children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})}var o={make:n};function p(a){var c=a.tokens,d=a.tokenContactIds,e=b("ReStore.bs").useHook(void 0),f=b("bs_int64").to_string(b("MWLSActor.bs").useActor(void 0)),g=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("SkytaleDB").table(e,"participants").asc,function(a){return d.has(b("bs_int64").to_string(a.b))}),function(a){return b("bs_int64").to_string(a.a)})},[e,d])),k=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=new Set(g);return b("ReQL.bs").filter(b("ReQL.bs").filter(b("ReQL.bs").filter(b("SkytaleDB").table(e,"threads").asc,function(a){return a.d===void 0}),function(c){c=c.O;if(c!==void 0)return a.has(b("bs_int64").to_string(c));else return!1}),function(a){a=a.O;if(a===void 0)return!1;a=b("ReQLSuspense.bs").toArray(b("ReQL.bs").filter(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(e,"participants").index("threadKeyReadWatermarkTimestampMs").desc,{hd:a,tl:0}),function(a){return b("bs_int64").to_string(a.b)}),function(a){return a!==f}));if(a.every(function(a){return d.has(a)}))return a.length===d.size;else return!1})},[e,g,d,f])),l=i.useCallback(function(a){return b("LSTransaction.bs").run(e,function(c){return b("LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure")(b("LSVec.bs").make(a),void 0,b("LS.bs").make(c))},"readWrite")},[e]),n=function(a){return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").CREATE_THREAD}})};i.useEffect(function(){if(k===void 0){var a=b("bs_curry")._1(l,c.map(function(a){return b("bs_caml_format").caml_int64_of_string(a.b)}));a.then(function(a){b("MWV2OnAuthoritativeThreadInsert.bs").onAuthoritativeThreadInsert(a,e,n);return b("Promise").resolve(void 0)})}},[e,c,k]);if(k!==void 0)return i.jsx(m,{thread:k});else return i.jsx("div",{className:(h||(h=b("stylex")))(j.spinner),children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})}var q={make:p};function r(a){var c=a.tokens,d=b("ReStore.bs").useHook(void 0),e=b("bs_int64").to_string(b("MWLSActor.bs").useActor(void 0)),f=i.useMemo(function(){return new Set(c.map(function(a){return a.b}))},[c]),g=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("SkytaleDB").table(d,"participants").asc,function(a){return f.has(b("bs_int64").to_string(a.b))}),function(a){return b("bs_int64").to_string(a.a)})},[d,f]));a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=new Set(g);return b("ReQL.bs").filter(b("ReQL.bs").filter(b("ReQL.bs").filter(b("SkytaleDB").table(d,"threads").asc,function(a){return a.d===void 0}),function(c){return a.has(b("bs_int64").to_string(c.a))}),function(a){a=b("ReQLSuspense.bs").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(d,"participants").index("threadKeyReadWatermarkTimestampMs").desc,{hd:a.a,tl:0}),function(a){return b("bs_int64").to_string(a.b)}));var c=a.filter(function(a){return a!==e});if(a.length===c.length||c.length!==f.size)return!1;else return c.every(function(a){return f.has(a)})})},[d,g,f,e]));i.useEffect(function(){c.forEach(function(a){b("LSTransaction.bs").run(d,function(c){return b("LSContactVerifyContactRowExistsStoredProcedure")(b("bs_caml_format").caml_int64_of_string(a.b),b("LSContactIdType.bs").fbid,a.g,a.f,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,a.l,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(c))},"readWrite")})},[d,f]);if(a!==void 0)return i.jsx(m,{thread:a});else return i.jsx(p,{tokens:c,tokenContactIds:f})}var s={make:r};function c(a){var c=a.tokens,d=a.hasContent,e=a.isTabFocused,f=a.onBeforeOpenTabForGroup,g=a.openTabForUser,h=a.openTabForGroup,j=a.openTabForPage;a=a.empty;d=d!==void 0?d:{contents:!0};e=e!==void 0?e:!0;f=f!==void 0?f:function(a){};a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var k=b("bs_int64").to_string(b("MWLSActor.bs").useActor(void 0)),m=i.useMemo(function(){var a=[];c.forEach(function(b){b=b.getServerSearchResult();if(!(b==null)){a.push(b);return}});return a},[c]),o,p=0,q=m.length;if(q>=3)p=1;else switch(q){case 0:o=a;break;case 1:q=m[0];o=i.jsx(n,{threadKey:q.b,threadType:q.e});break;case 2:a=m[0];q=m[1];a.b===k?o=i.jsx(n,{threadKey:q.b,threadType:q.e}):q.b===k?o=i.jsx(n,{threadKey:a.b,threadType:a.e}):p=1;break}p===1&&(o=i.jsx(r,{tokens:m.filter(function(a){return a.b!==k})}));return i.jsxs(l,{children:[i.jsx(b("MWChatConnectionStatusCard.bs").make,{}),o],hasContent:d,isTabFocused:e,onBeforeOpenTabForGroup:f,openTabForUser:g,openTabForGroup:h,openTabForPage:j})}c=c;f.styles=j;f.noOp=a;f.context=k;f.MWThreadPreviewContextProvider=d;f.ThreadPreview=e;f.OneOnOnePreview=o;f.GroupPreviewOptimistic=q;f.GroupPreview=s;f.make=c}),null);
__d("MercuryFilters.bs",[],(function(a,b,c,d,e,f){"use strict";var g="unread";function a(a){return[g]}function b(a){return a===g}c="all";d="groups";e="named";var h="unnamed",i="WORK_UNSYNCED_CHAT";f.all=c;f.unread=g;f.groups=d;f.named=e;f.unnamed=h;f.unsyncedChat=i;f.getSupportedFilters=a;f.isSupportedFilter=b}),null);
__d("MWChatCanonicalGroupSearchQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"ids"}],b=[{kind:"Variable",name:"ids",variableName:"ids"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCanonicalGroupSearchQuery",selections:[{alias:null,args:b,concreteType:"MessengerCanonicalGroupQuery",kind:"LinkedField",name:"canonical_group_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCanonicalGroupQueryThreadConnection",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[c],type:"MessengerViewerThread",abstractKey:"__isMessengerViewerThread"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCanonicalGroupSearchQuery",selections:[{alias:null,args:b,concreteType:"MessengerCanonicalGroupQuery",kind:"LinkedField",name:"canonical_group_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCanonicalGroupQueryThreadConnection",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{kind:"TypeDiscriminator",abstractKey:"__isMessengerViewerThread"}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2629947137110659",metadata:{},name:"MWChatCanonicalGroupSearchQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatFriendsDataSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"limit"},b={defaultValue:null,kind:"LocalArgument",name:"order_by"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f=[{kind:"Variable",name:"first",variableName:"limit"},{kind:"Variable",name:"orderby",variableName:"order_by"},{kind:"Literal",name:"without_memorialized",value:!0}],g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d];return{fragment:{argumentDefinitions:[a,b,c],kind:"Fragment",metadata:null,name:"MWChatFriendsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:e,storageKey:null},{alias:null,args:f,concreteType:"MessengerContactsConnection",kind:"LinkedField",name:"messenger_contacts",plural:!1,selections:[{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_profile",plural:!1,selections:e,storageKey:null},g,h],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b],kind:"Operation",name:"MWChatFriendsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:i,storageKey:null},{alias:null,args:f,concreteType:"MessengerContactsConnection",kind:"LinkedField",name:"messenger_contacts",plural:!1,selections:[{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_profile",plural:!1,selections:i,storageKey:null},g,h,d],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3870970549624514",metadata:{},name:"MWChatFriendsDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatKeywordDataSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"query"},b={defaultValue:null,kind:"LocalArgument",name:"scale"},c={defaultValue:null,kind:"LocalArgument",name:"supportedTypes"},d=[{kind:"Variable",name:"query",variableName:"query"}],e=[{kind:"Variable",name:"supported_types",variableName:"supportedTypes"}],f={alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"subtext",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j={kind:"Literal",name:"height",value:36},k={kind:"Literal",name:"width",value:36},l=[j,{kind:"Variable",name:"scale",variableName:"scale"},k],m=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],n={alias:null,args:l,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"is_on_viewer_contact_list",storageKey:null},p=[i,n,{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"messenger_contact",plural:!1,selections:[o],storageKey:null}],q={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null};j={alias:null,args:[j,k],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:36,width:36)"};k=[{kind:"Literal",name:"first",value:10}];var s={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},t={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User",abstractKey:null};l={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"page_profile_picture",args:l,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null}],type:"Page",abstractKey:null};m=[n,{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"messenger_contact",plural:!1,selections:[o,i],storageKey:null}];return{fragment:{argumentDefinitions:[a,b,c],kind:"Fragment",metadata:null,name:"MWChatKeywordDataSourceQuery",selections:[{alias:null,args:d,concreteType:"MessengerSearchRootQuery",kind:"LinkedField",name:"messenger_search",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerSearchRootQueryResultModulesConnection",kind:"LinkedField",name:"result_modules",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:e,concreteType:"MessengerSearchResultsConnection",kind:"LinkedField",name:"search_results",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerSearchResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[f,g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{kind:"InlineFragment",selections:p,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[q,r,j,{alias:null,args:k,concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:[s,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[i,n,t],storageKey:null}],storageKey:null}],storageKey:"other_participants(first:10)"}],type:"MessengerViewerGroupThread",abstractKey:null},l,{kind:"InlineFragment",selections:p,type:"InstagramMessagingUser",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b],kind:"Operation",name:"MWChatKeywordDataSourceQuery",selections:[{alias:null,args:d,concreteType:"MessengerSearchRootQuery",kind:"LinkedField",name:"messenger_search",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerSearchRootQueryResultModulesConnection",kind:"LinkedField",name:"result_modules",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[h,{alias:null,args:e,concreteType:"MessengerSearchResultsConnection",kind:"LinkedField",name:"search_results",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerSearchResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[f,g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,i,{kind:"InlineFragment",selections:m,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[q,r,j,{alias:null,args:k,concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:[s,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[h,i,n,t],storageKey:null},i],storageKey:null}],storageKey:"other_participants(first:10)"}],type:"MessengerViewerGroupThread",abstractKey:null},l,{kind:"InlineFragment",selections:m,type:"InstagramMessagingUser",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"5980110348696558",metadata:{},name:"MWChatKeywordDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatKeywordDataSourceQuery_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"height",value:36},b={kind:"Literal",name:"width",value:36},c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatKeywordDataSourceQuery_thread",selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:[a,b],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:c,storageKey:"image(height:36,width:36)"},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[a,{kind:"Variable",name:"scale",variableName:"scale"},b],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:"other_participants(first:10)"}],type:"MessengerViewerGroupThread",abstractKey:null}}();e.exports=a}),null);
__d("WorkplaceMSCreateThreadMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerGroupThreadCreateResponsePayload",kind:"LinkedField",name:"messenger_group_thread_create",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WorkplaceMSCreateThreadMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WorkplaceMSCreateThreadMutation",selections:b},params:{id:"5392324424176057",metadata:{},name:"WorkplaceMSCreateThreadMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometMessengerCreateGroupSearchInputStrategy.react",["fbt","CometFormInputWrapper.react","CometRow.react","CometRowItem.react","CometTokenizerInputStrategy.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={input:{display:"q9uorilb",height:"k7cz35w2",marginTop:"aahdfvyu",marginEnd:"cgat1ltu",marginBottom:"tvmbv18p",marginStart:"kkf49tns",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso",verticalAlign:"pzggbiyp"},inputWrapper:{marginStart:"gu00c43d",paddingBottom:"sj5x9vvc",paddingTop:"p0x8y401"}};function a(a,b){var d=j(function(){return{xstyle:k.input}},[]);return i.jsx(c("CometRow.react"),{paddingHorizontal:16,children:i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("CometFormInputWrapper.react"),{cursor:"text",label:h._("Add Members"),value:" ",children:function(){return i.jsx("div",{className:c("stylex")(k.inputWrapper),children:i.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},a,{inputExtraProps:d,ref:b}))})}})})})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("CometTokenizerInternalLayoutInlineStrategy.react",["CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","react","stylex","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var d=a.commandConfigs,e=a.extraLayoutProps,f=e.afterViewContent,g=e.ariaProps,i=g.ariaDescribedByProps,j=g.ariaInputProps,k=g.ariaViewProps;g=e.beforeViewContent;var l=e.helperTextComponent,m=e.isLoading;e=e.isOpened;var n=a.inputStrategyRenderer,o=a.isDisabled,p=a.label,q=a.onBackspace,r=a.onBlur,s=a.onChange,t=a.onDownArrow,u=a.onEnter,v=a.onEscape,w=a.onFocus,x=a.onShiftTab,y=a.onTab,z=a.onUpArrow,A=a.queryString,B=a.selectedEntries,C=a.tokensStrategyRenderer,D=a.viewStrategyRenderer,E=a.xstyles,F=babelHelpers.objectWithoutPropertiesLoose(a,["commandConfigs","extraLayoutProps","inputStrategyRenderer","isDisabled","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","selectedEntries","tokensStrategyRenderer","viewStrategyRenderer","xstyles"]);a=c("useCometInternalTypeaheadState")();var G=a.activeEntries,H=a.highlightedEntry,I=c("cometHandleHighlightDropOnMouseLeave")(F.onHighlightEntry);return h.jsxs("div",{className:c("stylex")(E==null?void 0:E.layoutXStyle),children:[h.jsx("div",{className:c("stylex")(E==null?void 0:E.inputXStyle),onClick:F.onClick,role:"presentation",children:h.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:d,onBackspace:q,onBlur:r,onChange:s,onClick:c("emptyFunction"),onDownArrow:t,onEnter:u,onEscape:v,onFocus:w,onShiftTab:x,onTab:y,onUpArrow:z,ref:b,children:function(a,b){return h.jsx(n,babelHelpers["extends"]({},b,{ariaProps:j,autoFocus:F.autoFocus,id:F.id,inputEndContent:F.inputEndContent,inputExtraProps:F.inputExtraProps,inputStartContent:h.jsx(C,{isDisabled:o,onPress:F.onRemoveEntry,tokens:B}),isDisabled:o,label:p,placeholder:B.length>0?null:F.placeholder,queryString:A,ref:a,testid:void 0}))}})}),l!=null&&h.jsx("div",babelHelpers["extends"]({},i,{children:l})),g,e&&h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:F.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")(E==null?void 0:E.viewXStyle_DO_NOT_USE),onMouseLeave:I,ref:a,children:h.jsx(D,{ariaProps:k,entries:G,highlightedEntry:H,isLoading:m,onHighlightEntry:F.onHighlightEntry,onPressEntry:F.onPressEntry,queryString:A})})}}),f]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometTokenizerLayoutInlineStrategy.react",["CometTokenizerInternalLayoutInlineStrategy.react","CometTypeaheadHelperText.react","react","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTokenizerInternalLayoutInlineStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j={view:{backgroundColor:"cwj9ozl2",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr"}};function a(a,b){var d=a.extraLayoutProps;d=d===void 0?{}:d;var e=d.afterViewContent;d=d.beforeViewContent;var f=a.helperText,g=a.label,k=a.onBackspace,l=a.onBlur,m=a.onChange,n=a.onDownArrow,o=a.onEnter,p=a.onEscape,q=a.onHighlightEntry,r=a.onOutsideClick,s=a.onPressEntry,t=a.onRemoveEntry,u=a.onUpArrow,v=a.viewRole,w=a.selectedEntries,x=a.xstyles;x=x===void 0?{}:x;var y=x.viewXStyle_DO_NOT_USE;x=babelHelpers.objectWithoutPropertiesLoose(x,["viewXStyle_DO_NOT_USE"]);a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onUpArrow","viewRole","selectedEntries","xstyles"]);var z=c("useCometInternalTypeaheadFetch")();z=z.isLoading;var A=c("useCometInternalTypeaheadState")(),B=A.activeEntries;A=A.highlightedEntry;var C=c("useCometInternalTypeaheadStateDispatcher")(),D=C.dispatchIsOpened;i(function(){D(!0)},[D]);C=c("useCometTypeaheadInputRefs")(b);b=C.composedRef;C=C.inputRef;C=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")({inputRef:C,onBackspace:k,onBlur:l,onChange:m,onDownArrow:n,onEnter:o,onEscape:p,onHighlightEntry:q,onOutsideClick:r,onPressEntry:s,onRemoveEntry:t,onUpArrow:u,selectedEntries:w});k=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:B,helperText:f,highlightedEntry:A,inputLabel:g,isOpened:!0,viewRole:v});l=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:!0,xstyles:babelHelpers["extends"]({},x,{viewXStyle_DO_NOT_USE:[j.view,y]})});return h.jsx(c("CometTokenizerInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},a,C,{extraLayoutProps:{afterViewContent:e,ariaProps:k,beforeViewContent:d,helperTextComponent:f!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:f}):null,isLoading:z,isOpened:!0},label:g,ref:b,selectedEntries:w,viewRole:v,xstyles:l}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWChatCanonicalGroupSearchQuery",["CometRelay","MWChatCanonicalGroupSearchQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatCanonicalGroupSearchQuery.graphql");a=function(a,b,c){var e=c.next;c=babelHelpers.objectWithoutPropertiesLoose(c,["next"]);return d("CometRelay").fetchQuery(a,i,{ids:b}).subscribe(babelHelpers["extends"]({next:function(a){a=a==null?void 0:(a=a.canonical_group_thread)==null?void 0:(a=a.thread)==null?void 0:a.nodes;var b;a&&a.length>0&&(b=a[0].id);e(b)}},c))};g.fetchCanonicalGroupThreadId=a}),98);
__d("MWChatCreateGroupDialogTypeaheadViewItem.react",["CometEmojiTransform","CometEmoticonTransform","CometPageVerificationIcon.react","CometTextWithEntities.react","CometTypeaheadViewItem.react","MWChatFacepile.re","MWChatProfile.re","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[c("CometEmoticonTransform")(),c("CometEmojiTransform")()];function a(a){var b=a.entry;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);var e=b.getRawData(),f;e.secondaryImageUrl!==""?f=h.jsx(d("MWChatFacepile.re").make,{firstParticipantURI:e.imageUrl,secondParticipantURI:e.secondaryImageUrl,size:36}):f=h.jsx(d("MWChatProfile.re").make,{size:36,src:e.imageUrl});e=e.verificationStatus;return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemStartContent:f,children:h.jsx("div",{className:"i1fnvgqd cbu4d94t j83agx80",children:h.jsx("div",{className:"hzawbc8m jxrgncrl gjjqq4r6",children:h.jsxs(c("TetraText.react"),{numberOfLines:1,type:"body3",children:[h.jsx(c("CometTextWithEntities.react"),{text:b.getLabel(),transforms:i}),e!=null?h.jsx("span",{className:"l9j0dhe7 scb9dxdr",children:h.jsx(c("CometPageVerificationIcon.react"),{size:"small",verificationBadge:e})}):null]})})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFriendsDataSource.query",["MWChatFriendsDataSourceQuery.graphql","MWChatSearchResultType","MWChatSearchTypeaheadDataEntry","compactArray"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("MWChatFriendsDataSourceQuery.graphql");function a(a,b){b=a==null?void 0:(b=a.viewer)==null?void 0:(b=b.messenger_contacts)==null?void 0:b.nodes;if(!b)return[];var d=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.actor)==null?void 0:a.id;return c("compactArray")(b.map(function(a){var b;b=a==null?void 0:(b=a.messaging_profile)==null?void 0:b.id;var e=a==null?void 0:a.name;a=a==null?void 0:(a=a.profile_picture)==null?void 0:a.uri;return b===d||b==null||e==null||a==null?null:new(c("MWChatSearchTypeaheadDataEntry"))({displayName:e,id:b,imageUrl:a,isContact:!0,resultType:c("MWChatSearchResultType").USER,secondaryImageUrl:"",subtext:""})}))}g.query=d;g.normalize=a}),98);
__d("mwChatFriendsQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){return babelHelpers["extends"]({},a)}}f["default"]=a}),66);
__d("MWChatFriendsDataSource",["CometTypeaheadDataProvider","CometTypeaheadDataProviderQueryVariablesBuilder","CometTypeaheadNetworkCacheDataSource","CometTypeaheadQueryDataCacheProvider","MWChatFriendsDataSource.query","WebPixelRatio","gkx","mwChatFriendsQueryVariablesBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.limit;a=a.relayEnvironment;b=new(c("CometTypeaheadDataProviderQueryVariablesBuilder"))(c("mwChatFriendsQueryVariablesBuilder")).setDefaultVariables({limit:b,order_by:c("gkx")("1217157")?["PHAT"]:c("gkx")("1697145")?["CFPHAT"]:["communication"],scale:d("WebPixelRatio").get()});var e=new(c("CometTypeaheadQueryDataCacheProvider"))();b=new(c("CometTypeaheadDataProvider"))({query:d("MWChatFriendsDataSource.query").query,queryVariablesBuilder:b,relayEnvironment:a});this.$1=new(c("CometTypeaheadNetworkCacheDataSource"))(b,e,{normalizeFunc:d("MWChatFriendsDataSource.query").normalize})}var b=a.prototype;b.fetchCache=function(a){return this.$1.fetchCache(a)};b.fetchNetwork=function(a){return this.$1.fetchNetwork(a)};return a}();g["default"]=a}),98);
__d("mwChatSearchDataUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){d===void 0&&(d=1);e===void 0&&(e=1);var f=0,g=0,h=[],i=!0,j=0;while(f<a.length||g<b.length){if(f+g>=c)break;f===a.length&&(i=!1,j=0);g===b.length&&(i=!0,j=0);f<a.length&&i?(h.push(a[f]),f+=1,j+=1,j===d&&(j=0,i=!1)):g<b.length&&!i&&(h.push(b[g]),g+=1,j+=1,j===e&&(j=0,i=!0))}return h}f.interleaveArrays=a}),66);
__d("MWChatKeywordDataSource.query",["fbt","MWChatKeywordDataSourceQuery.graphql","MWChatKeywordDataSourceQuery_thread.graphql","MWChatSearchResultType","MWChatSearchTypeaheadDataEntry","intlList","mwChatSearchDataUtils","orEmptyArray"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=2,l=h._("Facebook User");e=i!==void 0?i:i=b("MWChatKeywordDataSourceQuery.graphql");j!==void 0?j:j=b("MWChatKeywordDataSourceQuery_thread.graphql");function a(a,b){a=a==null?void 0:(a=a.messenger_search)==null?void 0:(a=a.result_modules)==null?void 0:a.nodes;if(!a)return[];var d=[],e=[],f=[],g=[];a=c("orEmptyArray")((a=a[0].search_results)==null?void 0:a.edges).filter(Boolean);a.map(function(a){var h=a.node,i=a.subtext;if(!h)return;switch(h.__typename){case"User":case"InstagramMessagingUser":var j,k;j=new(c("MWChatSearchTypeaheadDataEntry"))({displayName:(j=a.display_name)!=null?j:"",id:(j=h.id)!=null?j:"",imageUrl:(j=(j=h.profile_picture)==null?void 0:j.uri)!=null?j:"",isContact:(j=h==null?void 0:(j=h.messenger_contact)==null?void 0:j.is_on_viewer_contact_list)!=null?j:!1,isInstagramAccount:h.__typename==="InstagramMessagingUser",resultType:c("MWChatSearchResultType").USER,secondaryImageUrl:"",subtext:(j=i)!=null?j:""}).setMetaData({query:b.query});Boolean((k=h.messenger_contact)==null?void 0:k.is_on_viewer_contact_list)?d.push(j):e.push(j);break;case"MessengerViewerGroupThread":k=n(a);if(!k)return null;g.push(new(c("MWChatSearchTypeaheadDataEntry"))({displayName:k.title,id:(j=(j=h.thread_key)==null?void 0:j.thread_fbid)!=null?j:"",imageUrl:k.image_uri,isContact:!1,resultType:c("MWChatSearchResultType").GROUP,secondaryImageUrl:(j=k.secondary_image_uri)!=null?j:"",subtext:k.subtext}).setMetaData({query:b.query}));break;case"Page":f.push(new(c("MWChatSearchTypeaheadDataEntry"))({displayName:(j=a.display_name)!=null?j:"",id:(k=h.page_id)!=null?k:"",imageUrl:(j=(a=h.page_profile_picture)==null?void 0:a.uri)!=null?j:"",isContact:!1,resultType:c("MWChatSearchResultType").PAGE,secondaryImageUrl:"",subtext:(k=i)!=null?k:"",verificationStatus:h.verification_status}).setMetaData({query:b.query}));break;default:break}});return m(d,e,g,f)}function m(a,b,c,e){a=d("mwChatSearchDataUtils").interleaveArrays(a,c,a.length+c.length,3,1);return[].concat(a,e,b)}function n(a){var b,c=a.node;if(!c||c.__typename!=="MessengerViewerGroupThread")return;b=(b=(b=c.image)==null?void 0:b.uri)!=null?b:"";var d=null,e=c.other_participants;if(b.length===0){var f=e?e.nodes.slice(0,2):[];f=f.map(function(a){return(a=(a=a.messaging_actor)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri)!=null?a:""});f.length>1&&(d=f[1]);b=f[0]}f=(f=c.thread_name)!=null?f:null;var g=0;e=e?e.nodes.map(function(a){a=(a=a.messaging_actor)==null?void 0:a.name;if(a==null||a===""){g++;return null}return a}).filter(Boolean).concat(Array(g).fill(l)):[];c=(c=c.other_participants)==null?void 0:c.count;e=o(e,c,2);e=e!=null?e.toString():"";if(f==null){f=(c=e)!=null?c:"";a=(c=a.subtext)!=null?c:""}else a=e;return{image_uri:b,secondary_image_uri:d,subtext:a,title:f}}function o(a,b,d){d===void 0&&(d=k);if(!a)return null;if(b==null)return null;a=a.slice(0,d);d=b-a.length;return d<1?c("intlList")(a):h._("{name of the first n participants} and {number of other participants} more",[h._param("name of the first n participants",c("intlList")(a,c("intlList").CONJUNCTIONS.NONE)),h._param("number of other participants",d)])}g.query=e;g.normalize=a;g.blendResultTypes=m;g.getTitleSubtextAndImageFromGroup=n;g.getParticipantTextFromGroup=o}),98);
__d("mwChatKeywordQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){b=b.query;return babelHelpers["extends"]({},a,{query:b})}}f["default"]=a}),66);
__d("MWChatKeywordDataSource",["CometTypeaheadDataProvider","CometTypeaheadDataProviderQueryVariablesBuilder","CometTypeaheadNetworkCacheDataSource","CometTypeaheadQueryDataCacheProvider","MWChatKeywordDataSource.query","WebPixelRatio","mwChatKeywordQueryVariablesBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.limit,e=a.relayEnvironment;a=a.supportedTypes;a=new(c("CometTypeaheadDataProviderQueryVariablesBuilder"))(c("mwChatKeywordQueryVariablesBuilder")).setDefaultVariables({query:"",scale:d("WebPixelRatio").get(),supportedTypes:a!=null?a.map(function(a){return{limit:b,result_type:a}}):[{limit:b,result_type:"USER"},{limit:b,result_type:"GROUP"},{limit:b,result_type:"PAGE"}]});var f=new(c("CometTypeaheadQueryDataCacheProvider"))();a=new(c("CometTypeaheadDataProvider"))({query:d("MWChatKeywordDataSource.query").query,queryVariablesBuilder:a,relayEnvironment:e});this.$1=new(c("CometTypeaheadNetworkCacheDataSource"))(a,f,{normalizeFunc:d("MWChatKeywordDataSource.query").normalize})}var b=a.prototype;b.fetchCache=function(a){return this.$1.fetchCache(a)};b.fetchNetwork=function(a){return this.$1.fetchNetwork(a)};return a}();g["default"]=a}),98);
__d("MWChatSearchTypeaheadDataSource",["MWChatFriendsDataSource","MWChatKeywordDataSource","Promise","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadDecoratorRemoveExcluded"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.excludedIDs;b=b===void 0?[]:b;var d=a.limit,e=a.relayEnvironment,f=a.suggestionsLimit,g=a.supportedTypes;a=a.includeRecommendations;a=a===void 0?!0:a;this.$3=[];this.$4=[];this.$1=new(c("MWChatFriendsDataSource"))({limit:(f=f)!=null?f:d,relayEnvironment:e});this.$2=new(c("MWChatKeywordDataSource"))({limit:d,relayEnvironment:e,supportedTypes:g});this.$4=b;this.$5=a}var d=a.prototype;d.fetchCache=function(a){var b=a.query,d=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(this.$3),e=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$4);if(b.length>0){b=this.$2.fetchCache(a);return e(d(b))}b=this.$1.fetchCache(a);return e(d(b))};d.fetchNetwork=function(a){var d=a.query,e=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(this.$3),f=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$4);return d.length===0?this.$5===!1?b("Promise").resolve({entries:[],params:a}):this.$1.fetchNetwork(a).then(function(a){return f(e(a))}):this.$2.fetchNetwork(a).then(function(a){return f(e(a))})};d.setTokens=function(a){this.$3=a};return a}();g["default"]=a}),98);
__d("WorkplaceMSCreateThread",["CometRelay","Promise","WorkplaceMSCreateThreadMutation.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback;function a(a){var c=d("CometRelay").useMutation(h!==void 0?h:h=b("WorkplaceMSCreateThreadMutation.graphql")),e=c[0];c[1];return i(function(c,d){var f,g=(f=d==null?void 0:d.name)!=null?f:null,h=(f=d==null?void 0:d.thread_image_fbid)!=null?f:null;return new(b("Promise"))(function(b,d){var f={};g!=null&&(f.name=g);h!=null&&(f.thread_image_fbid=h);e({onCompleted:function(a){a=a==null?void 0:(a=a.messenger_group_thread_create)==null?void 0:(a=a.thread)==null?void 0:(a=a.thread_key)==null?void 0:a.thread_fbid;a!=null?b(a):d()},onError:function(a){d(a)},variables:{input:{entry_point:a,participants:c.map(function(a){return{fbid:a}}),thread_settings:f}}})})},[a,e])}g.useHook=a}),98);
__d("CometMessengerCreateGroupDialogContent.react",["fbt","Actor","BaseTokenizer.react","CometMessengerCreateGroupSearchInputStrategy.react","CometRelay","CometRow.react","CometRowItem.react","CometTextInput.react","CometTokenizerLayoutInlineStrategy.react","FBLogger","MWChatCanonicalGroupSearchQuery","MWChatCreateGroupDialogTypeaheadViewItem.react","MWChatSearchTypeaheadDataSource","MWChatTokenizerTokenStrategy.react","Promise","TetraButton.react","WorkplaceMSCreateThread","emptyFunction","promiseDone","react","regeneratorRuntime","stylex","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useCometTypeaheadViewListStrategy","useStable","withMWChatEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useState,l={footer:{boxShadow:"m5meebzi",paddingBottom:"ihqw7lf3"},viewXStyle:{height:"a0fet5pb",marginTop:"n1l5q3vz",overflowY:"eg9m0zos",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"}};function a(a){var e=a.buttonLabel,f=a.onClose,g=a.onCreateGroup;a=d("Actor").useActor();var m=a[0],n=d("WorkplaceMSCreateThread").useHook("create_group_dialog");a=k("");var o=a[0],p=a[1];a=k([]);var q=a[0];a=a[1];var r=k(!1),s=r[0],t=r[1],u=d("CometRelay").useRelayEnvironment(),v=j(function(){var a,e,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:a=q.map(function(a){return a.getKey()}).concat(m);t(!0);i.prev=2;if(!(o==="")){i.next=9;break}i.next=6;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a,b){d("MWChatCanonicalGroupSearchQuery").fetchCanonicalGroupThreadId(u,q.map(function(a){return a.getRawData().id}),{error:function(a){return b(a)},next:function(b){return a(b)}})}));case 6:i.t0=i.sent;i.next=10;break;case 9:i.t0=null;case 10:e=i.t0;if(!(e==null)){i.next=17;break}h={};o!==""&&(h={name:o});i.next=16;return b("regeneratorRuntime").awrap(n(a,h));case 16:e=i.sent;case 17:t(!1);g(e);f();i.next=26;break;case 22:i.prev=22,i.t1=i["catch"](2),t(!1),c("FBLogger")("messenger_web_product").catching(i.t1).mustfix("Error creating group with "+a.length+" participants");case 26:case"end":return i.stop()}},null,this,[[2,22]])},[m,n,u,o,f,g,q]);r=j(function(){c("promiseDone")(v())},[v]);var w=k(""),x=w[0];w=w[1];var y=d("CometRelay").useRelayEnvironment(),z=c("useStable")(function(){return new(c("MWChatSearchTypeaheadDataSource"))({limit:6,relayEnvironment:y,supportedTypes:["USER"]})}),A=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withMWChatEscapeDecorator"),params:{onSearchAbandon:c("emptyFunction")}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:z}}}),B=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatCreateGroupDialogTypeaheadViewItem.react"),viewXStyle:l.viewXStyle}),C=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:c("MWChatTokenizerTokenStrategy.react")});return i.jsxs(i.Fragment,{children:[i.jsx(c("CometRow.react"),{paddingHorizontal:16,children:i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("CometTextInput.react"),{label:h._("Group Name"),labelIsHidden:!0,onChange:function(a){a.target.value!==void 0&&p(a.target.value)},placeholder:h._("Group Name (Optional)"),style:{backgroundColor:"transparent",border:"none"}})})}),i.jsx(c("BaseTokenizer.react"),{autoFocus:!0,dataSource:z,decorators:A,inputStrategyRenderer:c("CometMessengerCreateGroupSearchInputStrategy.react"),layoutStrategyRenderer:c("CometTokenizerLayoutInlineStrategy.react"),onChange:w,onChangeTokens:a,queryString:x,tokens:q,tokensStrategyRenderer:C,viewStrategyRenderer:B}),i.jsx("div",{className:c("stylex")(l.footer),children:i.jsx(c("CometRow.react"),{paddingHorizontal:16,children:i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("TetraButton.react"),{disabled:q.length<2||s,label:(z=e)!=null?z:h._("Create"),onPress:r})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometToken.react",["fbt","ix","CometPressable.react","TetraIcon.react","TetraProfilePhoto.react","TetraText.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={"default":{backgroundColor:"oo1teu6h"},pressable:{appearance:"dwo3fsh8",backgroundColor:"g5ia77u1",borderStyle:"ow4ym5g4",borderWidth:"auili1gw",boxSizing:"rq0escxv",cursor:"nhd2j8a9",marginBottom:"oygrvhab",marginEnd:"cxmmr5t8",marginStart:"hcukyx3x",marginTop:"kvgmc6g5",paddingBottom:"qt6c0cv9",paddingEnd:"rz4wbd8a",paddingStart:"a8nywdso",paddingTop:"jb3vyjys",position:"l9j0dhe7",textAlign:"i1ao9s8h",zIndex:"du4w35lb"},readonly:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},root:{alignItems:"bp9cbjyn",borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",display:"pq6dq46d",paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5"},shrinkVerticalPadding:{paddingBottom:"iuny7tx3",paddingTop:"ipjc6fyt"},shrinkVerticalPaddingLevel4:{paddingBottom:"e5nlhep0",paddingTop:"ecm0bbzt"},spacing:{marginEnd:"oi9244e8"},suggested:{backgroundColor:"tdjehn4e"}};function a(a){var b=a.addOn,e=a.addOnSecondary,f=a.disabled,g=a.level;g=g===void 0?3:g;var l=a.onPress,m=a.text;a=a.type;var n=a==="add"||a==="readonly"?"primary":"highlight",o=null,p=null,q=!1,r=!1,s=g===3?"body3":"body4";if(b){switch(b.type){case"text":o=j.jsx(c("TetraText.react"),{color:n,type:s,children:b.value});break;case"profile-photo":g===4?r=!0:q=!0;o=j.jsx(c("TetraProfilePhoto.react"),{shape:"circle",size:g===3?24:20,source:{uri:b.source}});break;case"icon":g===4?r=!0:q=!0;o=j.jsx(c("TetraIcon.react"),{color:n,icon:b.icon});break}o=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(k.spacing),children:o})}if(e){switch(e.type){case"text":p=j.jsx(c("TetraText.react"),{color:n,type:s,children:e.value});break}p=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(k.spacing),children:p})}s=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(a!=="readonly"&&k.spacing),children:j.jsx(c("TetraText.react"),{color:n,type:g===3?"bodyLink3":"bodyLink4",children:m})});n=(b==null?void 0:b.type)==="text"?b.value:null;g=(e==null?void 0:e.type)==="text"?e.value:null;b=j.jsxs("div",{className:c("stylex")(k.root,a!=="add"&&a!=="readonly"&&k["default"],a==="readonly"&&k.readonly,(a==="add"||a==="readonly")&&k.suggested,r&&k.shrinkVerticalPaddingLevel4,q&&k.shrinkVerticalPadding),children:[o,s,p,a==="add"?j.jsx(c("TetraIcon.react"),{alt:h._("Add"),icon:d("fbicon")._(i("483767"),12)}):a!=="readonly"?j.jsx(c("TetraIcon.react"),{"aria-label":h._("{prefix} {token_text} {add_on_secondary} Remove",[h._param("prefix",n),h._param("token_text",m),h._param("add_on_secondary",g)]),color:"highlight",disabled:f,hideHoverOverlay:r,icon:d("fbicon")._(i("478231"),12),onPress:l,testid:void 0}):null]});return a==="add"?j.jsx(c("CometPressable.react"),{disabled:f,display:"inline",onPress:l,xstyle:k.pressable,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometInternalTypeaheadOnBlurLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onBlur,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(){b!=null&&b.isSessionActive()&&(b.addEvent({action:"abandon",entries:f,queryString:e},"useCometInternalTypeaheadOnBlurLoggingHandler"),b.endSession()),d&&d()},[f,b,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternal.react",["emptyFunction","react","useCometInternalTypeaheadFetchHandler","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnBlurLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var d=a.layoutStrategyRenderer,e=a.loggingProvider,f=a.onBlur,g=a.onChange,j=a.onEnter,k=a.onFocus,l=a.onPressEntry,m=a.onSearchCompletion,n=a.onSelectFreeformQuery,o=a.onShiftTab,p=a.onTab,q=a.queryString,r=a.traceProvider;a=babelHelpers.objectWithoutPropertiesLoose(a,["layoutStrategyRenderer","loggingProvider","onBlur","onChange","onEnter","onFocus","onPressEntry","onSearchCompletion","onSelectFreeformQuery","onShiftTab","onTab","queryString","traceProvider"]);b=c("useCometTypeaheadInputRefs")(b);var s=b.composedRef,t=b.inputRef;b=c("useCometInternalTypeaheadState")();var u=b.highlightedEntry,v=b.highlightedEntrySource;b=c("useCometInternalTypeaheadStateDispatcher")();var w=b.dispatchHighlightedEntry,x=b.dispatchIsOpened;c("useCometInternalTypeaheadFetchHandler")({loggingProvider:e,queryString:q,traceProvider:r});b=c("useCometInternalTypeaheadOnBlurLoggingHandler")({loggingProvider:e,onBlur:f,queryString:q});r=c("useCometInternalTypeaheadOnFocusLoggingHandler")({loggingProvider:e,onFocus:k,queryString:q});f=c("useCometInternalTypeaheadOnEnterLoggingHandler")({loggingProvider:e,onEnter:i(function(){if(u!=null&&v==="keyboard")t.current&&t.current.focus(),l&&l(u);else{var a;a=(a=t.current)==null?void 0:a.value;if(a==="")m&&m();else{n&&n((a=a)!=null?a:"")}}w({entry:null,source:null});g("");j&&j()},[u,v,w,g,j,t,l,m,n]),queryString:q});k=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")({loggingProvider:e,onPressEntry:l,queryString:q});var y=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){x(!1),o&&o()},[x,o]),loggingProvider:e,queryString:q}),z=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){x(!1),p&&p()},[x,p]),loggingProvider:e,queryString:q}),A=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});e=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});return h.jsx(d,babelHelpers["extends"]({},a,{onAbandonTypeahead_DO_NOT_USE:e,onBlur:b,onChange:g,onClick:c("emptyFunction"),onEnter:f,onFocus:r,onOutsideClick:A,onPressEntry:k,onShiftTab:y,onTab:z,queryString:q,ref:s}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("BaseTokenizer.react",["CometInternalTypeaheadFetchProvider","CometInternalTypeaheadStateProvider","CometTokenizerInternal.react","emptyFunction","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[];function a(a,b){var d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.decorators,g=f===void 0?[]:f;f=a.emptyEntries_DO_NOT_USE;var j=a.loggingContext,k=a.onAddToken;k=k===void 0?c("emptyFunction"):k;var l=a.onBlur;l=l===void 0?c("emptyFunction"):l;var m=a.onChangeTokens,n=a.onClose,o=a.onEscape;o=o===void 0?c("emptyFunction"):o;var p=a.onFocus;p=p===void 0?c("emptyFunction"):p;var q=a.onOpen,r=a.onRemoveToken;r=r===void 0?c("emptyFunction"):r;var s=a.onSearchCompletion;s=s===void 0?c("emptyFunction"):s;var t=a.tokensStrategyRenderer,u=a.tokens,v=a.viewRole;v=v===void 0?"listbox":v;a=babelHelpers.objectWithoutPropertiesLoose(a,["dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","tokensStrategyRenderer","tokens","viewRole"]);var w=c("useStable")(function(){var a=c("CometTokenizerInternal.react");g.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a});return h.jsx(c("CometInternalTypeaheadStateProvider"),{emptyEntries_DO_NOT_USE:f,onClose:n,onOpen:q,children:h.jsx(c("CometInternalTypeaheadFetchProvider"),{dataSource:d,dataSourceFetchConfigParams:e,loggingContext:j,children:h.jsx(w,babelHelpers["extends"]({},a,{commandConfigs:i,onBackspace:c("emptyFunction"),onBlur:l,onChangeEntries:m,onDownArrow:c("emptyFunction"),onEnter:c("emptyFunction"),onEscape:o,onFocus:p,onHighlightEntry:c("emptyFunction"),onPressEntry:k,onRemoveEntry:r,onSearchCompletion:s,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),ref:b,selectedEntries:u,tokensStrategyRenderer:t,viewRole:v}))})})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("useBaseTokenizerDecorators",["useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.escapeDecorator,d=a.limitDecorator,e=a.refetchDecorator,f=a.tokenManagementDecorator;return c("useStable")(function(){return[d,b,f,e].filter(Boolean)})}g["default"]=a}),98);
__d("CometTokenizerInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","KeyCommandHandler.react","react","useCometInternalTypeaheadState","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l={root:{width:"k4urcfbm"}};function a(a,b){var d=a.children,e=a.commandConfigs,f=a.isInline,g=a.onBackspace,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onShiftTab,q=a.onTab,r=a.onUpArrow;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commandConfigs","isInline","onBackspace","onDownArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow"]);var s=c("useCometInternalTypeaheadState")(),t=s.isOpened;s=k(function(){return[].concat(e,[{command:{key:c("CometKeys").DELETE},description:h._("Remove previous token"),handler:function(){return g&&g()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").DOWN},description:h._("Next suggestion"),handler:function(){return m&&m()},triggerFromInputs:!0},{command:{key:c("CometKeys").UP},description:h._("Previous suggestion"),handler:function(){return r&&r()},triggerFromInputs:!0}],t?[{command:{key:c("CometKeys").ESCAPE},description:h._("Close suggestions"),handler:function(){return o&&o()},triggerFromInputs:!0}]:[],[{command:{key:c("CometKeys").ENTER},description:h._("Select suggestion"),handler:function(){return n&&n()},triggerFromInputs:!0},{command:{key:c("CometKeys").TAB},description:h._("Leave input"),handler:function(){return q&&q()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").TAB,shift:!0},description:h._("Leave input"),handler:function(){return p&&p()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0}])},[e,t,g,m,n,o,p,q,r]);b=c("useCometTypeaheadInputRefs")(b);var u=b.composedRef;b=b.inputRef;b=c("useCometTypeaheadInputHandlers")(babelHelpers["extends"]({inputRef:b},a));a=j(function(a){a.key==="Tab"&&(!a.shiftKey?q&&q():p&&p())},[q,p]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:s,elementType:f===!0?"span":"div",xstyle:l.root,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:a,children:d(u,b)})})}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("CometTokenizerInputWidthResolver.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useRef,k=b.useState;function a(a){var b=a.children,c=a.placeholder;c=c===void 0?"":c;a=a.queryString;var d=k(0),e=d[0],f=d[1],g=j(null);d=a!==""?a:c;i(function(){g.current&&f(g.current.offsetWidth)},[d]);return h.jsxs(h.Fragment,{children:[h.jsx("span",{"aria-hidden":"true",className:"g0qnabr5 kr9hpln1 kr520xx4 j9ispegn pmk7jnqg r0usavy5 n5sx5to1 jagab5yi",ref:g,children:d}),b(e)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnBackspaceHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,c=a.onBackspace,d=a.onRemoveEntry,e=a.selectedEntries;return h(function(){var a=b.current;if(a!=null&&a.selectionStart===0&&a.selectionEnd===0){a=e.length-1;a>=0&&d(e[a])}c&&c()},[b,c,e,d])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnEnterHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onEnter;return h(function(){b&&b()},[b])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnPressEntryHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onChange,e=a.onPressEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry,g=b.current;return h(function(a,b){g!=null&&(g.value="",g.focus()),f({entry:null,source:null}),d(""),e&&e(a,b)},[g,f,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternalLayoutContextualStrategy.react",["CometContextualLayer.react","CometHeroHoldTrigger.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","FocusRegion.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","focusScopeQueries","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j={helperText:{marginTop:"aov4n071"},view:{backgroundColor:"cwj9ozl2",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"o55z2nyb",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",marginTop:"rs0gx3tq",width:"k4urcfbm"}},k="ChatTypeahead";function a(a,b){var e=a.contextualProps;e=e===void 0?{}:e;var f=e.align;f=f===void 0?"stretch":f;var g=e.position;g=g===void 0?"below":g;var l=babelHelpers.objectWithoutPropertiesLoose(e,["align","position"]);e=a.extraLayoutProps;var m=e.ariaProps,n=m.ariaDescribedByProps,o=m.ariaInputProps,p=m.ariaViewProps;m=e.helperTextComponent;var q=e.isLoading;e=e.isOpened;var r=a.commandConfigs,s=a.selectedEntries,t=a.inputStrategyRenderer,u=a.isDisabled,v=a.label,w=a.layerContext;w=w===void 0?"root":w;var x=a.onBackspace,y=a.onBlur,z=a.onChange,A=a.onClick,B=a.onDownArrow,C=a.onEnter,D=a.onEscape,E=a.onFocus,F=a.onShiftTab,G=a.onTab,H=a.onUpArrow,I=a.queryString,J=a.tokensStrategyRenderer,K=a.viewStrategyRenderer,L=a.xstyles,M=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","extraLayoutProps","commandConfigs","selectedEntries","inputStrategyRenderer","isDisabled","label","layerContext","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","tokensStrategyRenderer","viewStrategyRenderer","xstyles"]);a=c("useCometTypeaheadInputRefs")(b);b=a.composedRef;a=a.inputRef;var N=i(null),O=i(null),P=c("useResizeObserver")(function(){O.current!=null&&O.current.reposition({autoflip:!l.disableAutoFlip})}),Q=c("useCometInternalTypeaheadState")(),R=Q.activeEntries,S=Q.highlightedEntry;Q=w==="input"?a.current:N.current;var T=c("cometHandleHighlightDropOnMouseLeave")(M.onHighlightEntry);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:c("stylex")(L==null?void 0:L.layoutXStyle),ref:N,children:h.jsx("div",{className:c("stylex")(L==null?void 0:L.inputXStyle),onClick:A,ref:P,role:"presentation",children:h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:h.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:r,onBackspace:x,onBlur:y,onChange:z,onClick:c("emptyFunction"),onDownArrow:B,onEnter:C,onEscape:D,onFocus:E,onShiftTab:F,onTab:G,onUpArrow:H,ref:b,children:function(a,b){return h.jsx(t,babelHelpers["extends"]({},b,{ariaProps:o,autoFocus:M.autoFocus,id:M.id,inputEndContent:M.inputEndContent,inputExtraProps:M.inputExtraProps,inputStartContent:s.length>0?h.jsx(J,{isDisabled:u,onPress:M.onRemoveEntry,tokens:s}):null,isDisabled:u,label:v,placeholder:M.placeholder,queryString:I,ref:a,testid:void 0}))}})})})}),m!=null&&h.jsx("div",babelHelpers["extends"]({className:c("stylex")(j.helperText)},n,{children:m})),h.jsx(c("CometHeroHoldTrigger.react"),{description:k,hold:!(Q!=null&&e!==!1)||Q!=null&&e!==!1&&R.length===0}),Q&&e&&h.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},l,{align:f,context_DEPRECATED:Q,position:g,ref:O,children:h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:M.onOutsideClick,children:function(a){return h.jsxs("div",{className:c("stylex")([j.view,L==null?void 0:L.viewXStyle_DO_NOT_USE]),onMouseLeave:T,ref:a,children:[h.jsx(K,{ariaProps:p,entries:R,extraViewProps:M.extraViewProps,highlightedEntry:S,isLoading:q,onHighlightEntry:M.onHighlightEntry,onPressEntry:M.onPressEntry,queryString:I}),h.jsx(c("CometHeroHoldTrigger.react"),{description:k,hold:q&&R.length===0})]})}})}))]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("useCometTokenizerInternalLayoutInlineStrategyHandlers",["react","useCometTokenizerLayoutStrategyOnBackspaceHandler","useCometTokenizerLayoutStrategyOnEnterHandler","useCometTokenizerLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onBackspace,e=a.onBlur,f=a.onChange,g=a.onDownArrow,i=a.onEnter,j=a.onEscape,k=a.onHighlightEntry,l=a.onOutsideClick,m=a.onPressEntry,n=a.onRemoveEntry,o=a.onUpArrow;a=a.selectedEntries;k=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")({onHighlightEntry:k});d=c("useCometTokenizerLayoutStrategyOnBackspaceHandler")({inputRef:b,onBackspace:d,onRemoveEntry:n,selectedEntries:a});a=c("useCometTypeaheadLayoutStrategyOnBlurHandler")({onBlur:e});var p=c("useCometTypeaheadLayoutStrategyOnChangeHandler")({onChange:f,onHighlightEntry:k});e=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")({onDownArrow:g,onHighlightEntry:k});g=c("useCometTokenizerLayoutStrategyOnEnterHandler")({onEnter:i});i=h(function(){p(""),j&&j()},[p,j]);f=c("useCometTokenizerLayoutStrategyOnPressEntryHandler")({inputRef:b,onChange:f,onPressEntry:m});m=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")({inputRef:b,onOutsideClick:l});b=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")({onHighlightEntry:k,onUpArrow:o});return{onBackspace:d,onBlur:a,onChange:p,onDownArrow:e,onEnter:g,onEscape:i,onHighlightEntry:k,onOutsideClick:m,onPressEntry:f,onRemoveEntry:n,onUpArrow:b}}g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutContextualStrategyHandlers",["react","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTokenizerInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.isDisabled,e=a.onAbandonTypeahead_DO_NOT_USE,f=a.onClick,g=a.onOutsideClick,i=a.onShiftTab,j=a.onTab,k=a.queryString,l=a.selectedEntries;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","isDisabled","onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab","queryString","selectedEntries"]);var m=c("useCometInternalTypeaheadState")(),n=m.isOpened;m=c("useCometInternalTypeaheadStateDispatcher")();var o=m.dispatchActiveEntries,p=m.dispatchHighlightedEntry,q=m.dispatchIsOpened;m=h(function(){q(!1),g&&g()},[q,g]);m=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")(babelHelpers["extends"]({inputRef:b,onOutsideClick:m,selectedEntries:l},a));var r=m.onBackspace;l=m.onBlur;var s=m.onChange,t=m.onDownArrow,u=m.onEnter,v=m.onEscape;a=m.onHighlightEntry;var w=m.onOutsideClick,x=m.onPressEntry,y=m.onRemoveEntry,z=m.onUpArrow;m=h(function(){q(!1),e&&e()},[q,e]);var A=h(function(){k.length===0&&q(!1),r&&r()},[q,r,k.length]),B=h(function(a){q(!0),s&&s(a)},[q,s]),C=h(function(){!n&&!Boolean(d)&&q(!0),b.current&&b.current.focus(),f&&f()},[n,d,b,f,q]),D=h(function(){q(!1),p({entry:null,source:null}),o([]),u&&u()},[o,p,q,u]),E=h(function(){q(!1),v&&v()},[q,v]),F=h(function(){n?t&&t():q(!0)},[q,n,t]),G=h(function(a,b){q(!1),o([]),x&&x(a,b)},[o,q,x]),H=h(function(a){q(!1),y&&y(a)},[q,y]),I=h(function(){q(!1),i&&i()},[q,i]),J=h(function(){q(!1),j&&j()},[q,j]),K=h(function(){!n?q(!0):z&&z()},[q,n,z]);return{onAbandonTypeahead_DO_NOT_USE:m,onBackspace:A,onBlur:l,onChange:B,onClick:C,onDownArrow:F,onEnter:D,onEscape:E,onHighlightEntry:a,onOutsideClick:w,onPressEntry:G,onRemoveEntry:H,onShiftTab:I,onTab:J,onUpArrow:K}}g["default"]=a}),98);
__d("CometTokenizerTokenListStrategy.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isDisabled,c=a.onPress,d=a.tokens,e=a.tokenStrategyRenderer;return h.jsx(h.Fragment,{children:d.map(function(a,d){return h.jsx("div",{className:"kkf49tns tvmbv18p cgat1ltu aahdfvyu q9uorilb",children:h.jsx(e,{isDisabled:b,onPress:c,token:a})},d)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTokenizerTokenStrategy.react",["CometToken.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.addOn,d=a.addOnSecondary,e=a.isDisabled,f=a.level,g=a.onPress,j=a.token;a=i(function(a){a.preventDefault(),g(j)},[g,j]);return h.jsx(c("CometToken.react"),{addOn:b,addOnSecondary:d,disabled:e,level:f,onPress:a,text:j.getLabel(),type:"remove"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerListTokenStrategy",["CometTokenizerTokenListStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.tokenItemRenderer;a=a.tokenListRenderer;var d=a===void 0?c("CometTokenizerTokenListStrategy.react"):a;return i(function(a){a=babelHelpers["extends"]({},a);return h.jsx(d,babelHelpers["extends"]({tokenStrategyRenderer:b},a))},[b])}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorRemoveDuplicates",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){var c=new Set(a.map(function(a){return a.getKey()})),d=b.entries;d=d.filter(function(a){return!c.has(a.getKey())});return babelHelpers["extends"]({},b,{entries:d})}}f["default"]=a}),66);
__d("useCometTokenizerBridgeForTypeaheadDataSource",["cometSearchTypeaheadPayloadDecoratorAddLimit","cometSearchTypeaheadPayloadDecoratorRemoveDuplicates","cometTypeaheadFetchPayloadDecorate","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useMemo,i=b.useRef;function a(a){var b=a.shouldAllowDuplicates,d=b===void 0?!1:b,e=a.limit,f=a.dataSource;b=a.tokens;a=b===void 0?[]:b;var g=i(a),j=h(function(){return function(a){return c("cometTypeaheadFetchPayloadDecorate")(a,[d?null:c("cometSearchTypeaheadPayloadDecoratorRemoveDuplicates")(g.current),c("cometSearchTypeaheadPayloadDecoratorAddLimit")(e)].filter(Boolean))}},[e,d]);return h(function(){return{fetchCache:function(a){return j(f.fetchCache(a))},fetchNetwork:function(a){return f.fetchNetwork(a).then(function(a){return j(a)})},setTokens:function(a){g.current=a}}},[j,f])}g["default"]=a}),98);
__d("useCometTokenizerDataSource",["cometSearchTypeaheadPayloadDecoratorAddLimit","cometSearchTypeaheadPayloadDecoratorRemoveDuplicates","cometTypeaheadFetchPayloadDecorate","react","useCometTypeaheadGraphQLDataSource"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useMemo,i=b.useRef;function a(a){var b=a.shouldAllowDuplicates,d=b===void 0?!1:b;b=a.decorators;b=b===void 0?{}:b;var e=b.duplicateDecorator,f=e===void 0?c("cometSearchTypeaheadPayloadDecoratorRemoveDuplicates"):e,g=b.filterDecorator,j=a.limit;e=a.tokens;b=e===void 0?[]:e;e=babelHelpers.objectWithoutPropertiesLoose(a,["shouldAllowDuplicates","decorators","limit","tokens"]);var k=i(b),l=c("useCometTypeaheadGraphQLDataSource")(babelHelpers["extends"]({},e,{limit:j+k.current.length})),m=h(function(){return function(a){return c("cometTypeaheadFetchPayloadDecorate")(a,[d?null:f(k.current),g,c("cometSearchTypeaheadPayloadDecoratorAddLimit")(j)].filter(Boolean))}},[d,f,g,j]);return h(function(){return{fetchCache:function(a){return m(l.fetchCache(a))},fetchNetwork:function(a){return l.fetchNetwork(a).then(function(a){return m(a)})},setTokens:function(a){k.current=a}}},[l,m])}g["default"]=a}),98);
__d("MWChatHasSearchTabContent.bs",["MWChatMultitabStateHook.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWChatMultitabStateHook.bs").useHook_DEPRECATED(void 0);return h.useCallback(function(a){a=c.openTabsState.find(function(a){return a.threadID===0});if(a!==void 0)return a.hasContent.contents;else return!1},[c])}f.useHook=a}),null);
__d("MWChatBlurNewTab.bs",["MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=h.useContext(b("MWChatMultitabContext.bs").context);return h.useCallback(function(a){if(c!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,c,4)},[c])}f.useHook=a}),null);
__d("MWChatFocusNewTab.bs",["MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=h.useContext(b("MWChatMultitabContext.bs").context);return h.useCallback(function(a){if(c!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,c,5)},[c])}f.useHook=a}),null);
__d("MWChatHeaderNew.bs",["cssVar","fbt","CometPressable.react","MWTheme.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{position:"l9j0dhe7",display:"j83agx80",flexShrink:"pfnyh3mw",justifyContent:"i1fnvgqd",alignItems:"bp9cbjyn",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",paddingStart:"dati1w0a",paddingEnd:"hv4rvrfc",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",boxShadow:"pcdcaq2l",backgroundColor:"nred35xi",height:"k7cz35w2",zIndex:"kavbgo14"},title:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",whiteSpace:"g0qnabr5",textOverflow:"ltmttdrg",fontWeight:"ekzkrbhg",color:"oo9gr5id"}};function a(a){var c=a.isTabFocused,d=a.closeChatTab;a=a.title;c=c?b("MWTheme.bs").top(b("MWTheme.bs").$$default):"#bec2c9";c=k.jsxs("svg",{width:"30px",height:"30px",viewBox:"0 0 24 24",children:[k.jsx("line",{x1:"6",x2:"18",y1:"6",y2:"18",strokeLinecap:"round",strokeWidth:"2",stroke:c}),k.jsx("line",{x1:"6",x2:"18",y1:"18",y2:"6",strokeLinecap:"round",strokeWidth:"2",stroke:c})]});return k.jsxs("div",{className:(j||(j=b("stylex")))(l.root),children:[k.jsx("div",{className:j(l.title),children:a}),k.jsx(b("CometPressable.react"),{"aria-label":h._("Minimize tab"),onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",children:c})]})}c=a;f.styles=l;f.make=c}),null);
__d("MWChatTabTokenizerInternalLayoutInlineStrategy.react",["CometScrollableArea.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadKeyboardForScrollableArea","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={view:{backgroundColor:"cwj9ozl2",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr"},viewHidden:{pointerEvents:"hzruof5a",visibility:"kr9hpln1"}};function a(a,b){var d=a.commandConfigs,e=a.extraLayoutProps,f=e.afterViewContent,g=e.ariaProps,j=g.ariaDescribedByProps,k=g.ariaInputProps,l=g.ariaViewProps;g=e.beforeViewContent;var m=e.helperTextComponent,n=e.isLoading;e=e.isOpened;var o=a.inputStrategyRenderer,p=a.isDisabled,q=a.label,r=a.onBackspace,s=a.onBlur,t=a.onChange,u=a.onDownArrow,v=a.onEnter,w=a.onEscape,x=a.onFocus,y=a.onShiftTab,z=a.onTab,A=a.onUpArrow,B=a.queryString,C=a.selectedEntries,D=a.tokensStrategyRenderer,E=a.viewStrategyRenderer,F=a.xstyles;F=F===void 0?{}:F;var G=babelHelpers.objectWithoutPropertiesLoose(a,["commandConfigs","extraLayoutProps","inputStrategyRenderer","isDisabled","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","selectedEntries","tokensStrategyRenderer","viewStrategyRenderer","xstyles"]);a=c("useCometInternalTypeaheadState")();var H=a.activeEntries,I=a.highlightedEntry;a=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:e,xstyles:F});F=a.inputXStyle;var J=a.layoutXStyle,K=a.viewXStyle_DO_NOT_USE,L=c("useCometTypeaheadKeyboardForScrollableArea")(I),M=c("cometHandleHighlightDropOnMouseLeave")(G.onHighlightEntry);return h.jsxs("div",{className:c("stylex")(J),children:[h.jsx("div",{className:c("stylex")(F),onClick:G.onClick,role:"presentation",children:h.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:d,onBackspace:r,onBlur:s,onChange:t,onClick:c("emptyFunction"),onDownArrow:u,onEnter:v,onEscape:w,onFocus:x,onShiftTab:y,onTab:z,onUpArrow:A,ref:b,children:function(a,b){return h.jsx(o,babelHelpers["extends"]({},b,{ariaProps:k,autoFocus:G.autoFocus,id:G.id,inputEndContent:G.inputEndContent,inputExtraProps:G.inputExtraProps,inputStartContent:h.jsx(D,{isDisabled:p,onPress:G.onRemoveEntry,tokens:C}),isDisabled:p,label:q,placeholder:C.length>0?null:G.placeholder,queryString:B,ref:a,testid:void 0}))}})}),m!=null&&h.jsx("div",babelHelpers["extends"]({},j,{children:m})),g,e&&h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:G.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")([i.view,K,H.length===0&&!n&&i.viewHidden]),onMouseLeave:M,ref:a,children:h.jsx(c("CometScrollableArea.react"),{horizontal:!1,ref:L,children:h.jsx(E,{ariaProps:l,entries:H,highlightedEntry:I,isLoading:n,onHighlightEntry:G.onHighlightEntry,onPressEntry:G.onPressEntry,queryString:B})})})}}),f]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWChatTabTokenizerBaseLayoutInlineStrategy.react",["CometTypeaheadHelperText.react","MWChatTabTokenizerInternalLayoutInlineStrategy.react","react","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTokenizerInternalLayoutInlineStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a,b){var d=a.extraLayoutProps;d=d===void 0?{}:d;var e=d.afterViewContent;d=d.beforeViewContent;var f=a.helperText,g=a.label,j=a.onBackspace,k=a.onBlur,l=a.onChange,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,q=a.onOutsideClick,r=a.onPressEntry,s=a.onRemoveEntry,t=a.onUpArrow,u=a.viewRole,v=a.selectedEntries;a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onUpArrow","viewRole","selectedEntries"]);var w=c("useCometInternalTypeaheadFetch")();w=w.isLoading;var x=c("useCometInternalTypeaheadState")(),y=x.activeEntries;x=x.highlightedEntry;var z=c("useCometInternalTypeaheadStateDispatcher")(),A=z.dispatchIsOpened;i(function(){A(!0)},[A]);z=c("useCometTypeaheadInputRefs")(b);b=z.composedRef;z=z.inputRef;z=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")({inputRef:z,onBackspace:j,onBlur:k,onChange:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onOutsideClick:q,onPressEntry:r,onRemoveEntry:s,onUpArrow:t,selectedEntries:v});j=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:y,helperText:f,highlightedEntry:x,inputLabel:g,isOpened:!0,viewRole:u});return h.jsx(c("MWChatTabTokenizerInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},a,z,{extraLayoutProps:{afterViewContent:e,ariaProps:j,beforeViewContent:d,helperTextComponent:f!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:f}):null,isLoading:w,isOpened:!0},label:g,ref:b,selectedEntries:v,viewRole:u}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWChatTabsTokenizerLayoutInlineStrategy.react",["fbt","MWChatTabTokenizerBaseLayoutInlineStrategy.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={layout:{position:"l9j0dhe7",width:"jbcpqwzg"},offsetView:{height:"btdsrvhy",maxHeight:"f7dnaohx","@media (min-height: 1280px)":{height:"pv6a5gh5"}},root:{display:"j83agx80"},to:{color:"oo9gr5id",fontSize:"jq4qci2q",fontWeight:"knj5qynh",lineHeight:"a3bd9o3v",marginStart:"dhix69tm",marginTop:"aov4n071",zIndex:"s90hwng2"},typeaheadInput:{backgroundColor:"nred35xi",boxSizing:"rq0escxv",display:"a8c37x1j",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},view:{backgroundColor:"nred35xi",borderTop:"opwvks06",height:"mbhqdu15",maxHeight:"oxtv4ib6",position:"pmk7jnqg",start:"feeahcbg",top:"i42f9fw1",width:"jbcpqwzg","@media (min-height: 1280px)":{height:"h4lgqe89"}}};function a(a){a===void 0&&(a=!1);function b(b,d){var e=b.xstyles;e=e===void 0?{}:e;var f=e.viewXStyle_DO_NOT_USE;e=babelHelpers.objectWithoutPropertiesLoose(b,["xstyles"]);b=j(function(){var b;return{inputXStyle:[k.typeaheadInput],layoutXStyle:[k.layout],viewXStyle_DO_NOT_USE:[k.view,f,(b=a)!=null?b:k.offsetView]}},[f]);return i.jsxs("div",{className:c("stylex")(k.root),children:[i.jsx("div",{className:c("stylex")(k.to),children:h._("To:")}),i.jsx(c("MWChatTabTokenizerBaseLayoutInlineStrategy.react"),babelHelpers["extends"]({},e,{contextualProps:{align:"start",disableAutoFlip:!0},label:h._("Search by name or group"),layerContext:"root",ref:d,xstyles:b}))]})}b.displayName=b.name+" [from "+f.id+"]";return i.forwardRef(b)}g.createMWChatTabsTokenizerLayoutInlineStrategy=a}),98);
__d("UseMWLightSpeedChatSearchSuggestedContacts.bs",["useMWLightSpeedChatSearchSuggestedContacts"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("useMWLightSpeedChatSearchSuggestedContacts")()}f.useHook=a}),null);
__d("MWNewChatTabContainer.bs",["fbt","BootloaderResource","CometPlaceholder.react","CometProgressRingIndeterminate.react","JSResource","LSDatabaseType.bs","LSThreadAttributionStore.bs","LsSystemFolder.bs","MWChatBlurNewTab.bs","MWChatCloseNewTab.bs","MWChatConfirmTabCloseDialog.bs","MWChatFocusComposerContext.bs","MWChatFocusNewTab.bs","MWChatHasSearchTabContent.bs","MWChatHeaderNew.bs","MWChatLightSpeedSearchTypeahead.bs","MWChatOpenTabForGroup.bs","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWChatSearchClearSearchResults.bs","MWChatSyncEmojisDatabase.bs","MWChatTabContainerShared.bs","MWChatTabFocusHandler.bs","MWChatTabsTokenizerLayoutInlineStrategy.react","MWChatTokenizerTokenStrategy.react","MWLSDatabaseLazySync.bs","MWLSJewelLoadMoreThreads.bs","MessengerWebEntryPoint","UseMWLightSpeedChatSearchSuggestedContacts.bs","bs_caml_option","bs_curry","gkx","qex","react","stylex","useCometConfirmationDialog","useMWChatSearchTypeaheadCallbacks"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("JSResource")("MWThreadPreview.bs").__setRef("MWNewChatTabContainer.bs");function l(a,c,d,e,f,g,h,i,j){j={tokens:a,openTabForUser:f,openTabForGroup:g,openTabForPage:h};c!==void 0&&(j.hasContent=b("bs_caml_option").valFromOption(c));d!==void 0&&(j.isTabFocused=b("bs_caml_option").valFromOption(d));e!==void 0&&(j.onBeforeOpenTabForGroup=b("bs_caml_option").valFromOption(e));i!==void 0&&(j.empty=b("bs_caml_option").valFromOption(i));return j}function m(a){return j.createElement(b("BootloaderResource").read(k).make,a)}d={reasonResource:k,makeProps:l,make:m};var n=b("JSResource")("MWLightSpeedChatTabContactsContainer.bs").__setRef("MWNewChatTabContainer.bs");function a(a,b,c){return{isSearchView:a,setTokens:b}}function o(a){return j.createElement(b("BootloaderResource").read(n).make,a)}e={reasonResource:n,makeProps:a,make:o};var p={container:{height:"datstx6m",display:"j83agx80",position:"l9j0dhe7",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",isolation:"fbhpx0h9"},searchInput:{flexShrink:"pfnyh3mw",minHeight:"tgvbjcpo",position:"l9j0dhe7",zIndex:"tkr6xdv7",backgroundColor:"nred35xi",maxHeight:"nwf6jgls",boxShadow:"flhsghwj"},searchInputForContactsList:{borderBottom:"s1tcr66n",boxShadow:"mvk8q8v6"},searchView:{boxShadow:"mvk8q8v6"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",flexGrow:"buofh1pr"}},q=b("JSResource")("MWChatRHCSearchTypeahead.bs").__setRef("MWNewChatTabContainer.bs");function r(a,c,d,e){e={};a!==void 0&&(e.emptyEntries_DO_NOT_USE=b("bs_caml_option").valFromOption(a));c!==void 0&&(e.onEscape=b("bs_caml_option").valFromOption(c));d!==void 0&&(e.entryPoint=b("bs_caml_option").valFromOption(d));return e}function s(a){return j.createElement(b("BootloaderResource").read(q).make,a)}a={reasonResource:q,makeProps:r,make:s};function c(a){var c=a.hasContent,d=a.isMultitab,e=a.isSearchView,f=a.isTabFocused,h=a.useSidebarChatStyles,k=a.searchInitialParticipant;a=d!==void 0?d:!1;d=h!==void 0?h:!1;b("MWChatSyncEmojisDatabase.bs").useMaybeLazySync(void 0);h=b("qex")._("1586110");h=h==null?{}:{fontSize:String(h)+"px"};var n=b("MWChatHasSearchTabContent.bs").useHook(void 0),q=b("MWChatSearchClearSearchResults.bs").useHook(void 0),t=b("MWChatCloseNewTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),u=b("MWChatFocusNewTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),v=b("MWChatBlurNewTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),w=b("useCometConfirmationDialog")(),x=w[0];w=j.useState(function(){if(k!==void 0)return[b("bs_caml_option").valFromOption(k)];else return[]});var y=w[1];w=w[0];var z=j.useCallback(function(a){if(b("bs_curry")._1(n,void 0))return b("bs_curry")._3(x,b("MWChatConfirmTabCloseDialog.bs").content,function(a){b("bs_curry")._1(t,void 0);return b("bs_curry")._1(q,void 0)},function(a){});else{b("bs_curry")._1(t,void 0);return b("bs_curry")._1(q,void 0)}},[x,t,q,n]),A=b("LSThreadAttributionStore.bs").getSourceForNewThread(void 0),B=b("bs_curry")._3(b("MWChatOpenTabForUser.bs").useHook,void 0,A,b("MessengerWebEntryPoint").SEARCH),C=b("bs_curry")._3(b("MWChatOpenTabForPage.bs").useHook,void 0,A,b("MessengerWebEntryPoint").SEARCH),D=b("bs_curry")._3(b("MWChatOpenTabForGroup.bs").useHook,void 0,A,b("MessengerWebEntryPoint").SEARCH),E=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").ranking);b("MWLSJewelLoadMoreThreads.bs").useTryInitialising0x0Snapshot(b("LsSystemFolder.bs").inbox);j.useEffect(function(){b("bs_curry")._1(E,void 0)},[E]);var F=j.useState(function(){return!1}),G=F[1],H=b("useMWChatSearchTypeaheadCallbacks").useMWChatSearchTypeaheadCallbacks(y,C),I=j.useCallback(function(a){return b("bs_curry")._1(G,function(a){return!0})},[G]),J=b("UseMWLightSpeedChatSearchSuggestedContacts.bs").useHook(void 0),K=j.useMemo(function(){return b("MWChatTabsTokenizerLayoutInlineStrategy.react").createMWChatTabsTokenizerLayoutInlineStrategy(!1)},[]);return j.jsx("div",{className:(i||(i=b("stylex")))(b("MWChatTabContainerShared.bs").styles.chatTab,a?b("MWChatTabContainerShared.bs").styles.chatTabNoBottomRadius:!1,d?b("MWChatTabContainerShared.bs").styles.sidebarChatOverrides:!1,b("qex")._("1586109")===!0?b("MWChatTabContainerShared.bs").styles.chatTabThin:!1),style:h,children:j.jsx(b("MWChatFocusComposerContext.bs").provider,{children:j.jsx(b("MWChatTabFocusHandler.bs").make,{onEscape:function(a){return b("bs_curry")._1(z,void 0)},onFocus:function(a){return b("bs_curry")._1(u,void 0)},onBlur:function(a){if(f)return b("bs_curry")._1(v,void 0)},children:j.jsxs("div",{className:i(p.container),children:[j.jsx(b("MWChatHeaderNew.bs").make,{isTabFocused:f,closeChatTab:z,title:e?g._("Search Messenger"):g._("New Message")}),j.jsx("div",{className:i(p.searchInput,e?p.searchView:!1,b("gkx")("1526694")&&w.length===0?p.searchInputForContactsList:!1),children:e?j.jsx(s,r(J,function(a){return b("bs_curry")._1(z,void 0)},A,void 0)):j.jsx(b("MWChatLightSpeedSearchTypeahead.bs").make,{isDisabled:F[0],onAddToken:H[1],onChangeTokens:H[0],onSearchAbandon:z,onSearchCompletion:function(a){},tokens:w,includeRecommendations:!1,tokenItemRenderer:b("MWChatTokenizerTokenStrategy.react"),layoutStategyRenderer:K})}),j.jsx(b("CometPlaceholder.react"),{children:e?null:j.jsx(m,l(w,c,f,I,B[0],D[0],C,b("bs_caml_option").some(j.jsx(o,{isSearchView:e,setTokens:y})),void 0)),fallback:b("gkx")("1526694")?j.jsx("div",{className:(i||(i=b("stylex")))(p.spinner),children:j.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})}):null})]})})})},"local")}var t=b("MWChatTabContainerShared.bs").styles;c=c;f.shareStyles=t;f.LazyMWThreadPreview=d;f.LazyMWChatTabContactsContainer=e;f.styles=p;f.LazyMWChatRHCSearchTypeahead=a;f.make=c}),null);
__d("MWChatSearchTypeahead.react",["BaseTokenizer.react","CometRelay","MWChatSearchInputStrategy.react","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedDataSource","MWChatSearchTypeaheadViewStrategy.react","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useStable","withMWChatEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.emptyEntries_DO_NOT_USE,e=a.excludedIDs,f=a.includeRecommendations,g=f===void 0?!0:f;f=a.isDisabled;var l=a.layoutStategyRenderer,m=a.onAddToken,n=a.onChangeTokens,o=a.onSearchAbandon,p=a.onSearchCompletion,q=a.tokenItemRenderer,r=a.tokens;a=a.xstyles;var s=k(""),t=s[0];s=s[1];var u=d("CometRelay").useRelayEnvironment(),v=c("useStable")(function(){return new(c("MWChatSearchTypeaheadLightspeedDataSource"))({excludedIDs:e,includeRecommendations:g,lightspeedSupportedTypes:d("MWChatSearchIssueLightspeedQuery.re").allSupportedTypes,limit:7,relayEnvironment:u,source:d("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal})});o=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withMWChatEscapeDecorator"),params:{onSearchAbandon:o}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:v}}});var w=j(null),x=w.current;i(function(){x&&x.focus()},[x,r]);i(function(){v.setTokens(r)},[v,r]);q=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:q});return h.jsx(c("BaseTokenizer.react"),{autoFocus:!0,dataSource:v,decorators:o,emptyEntries_DO_NOT_USE:b,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:f,layoutStrategyRenderer:l,onAddToken:m,onChange:s,onChangeTokens:n,onSearchCompletion:p,queryString:t,ref:w,testid:void 0,tokens:r,tokensStrategyRenderer:q,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchTypeaheadContainer.react",["CometRelay","MWChatCanonicalGroupSearchQuery","MWChatSearchResultType","MWChatSearchTypeahead.react","MessengerWebEventsFalcoEvent","WorkplaceMSCreateThread","compactArray","react","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.entryPoint,e=a.includeRecommendations,f=a.layoutStategyRenderer,g=a.onChangeIsFetching,m=a.onChangeTokens,n=a.onClosePreview,o=a.onOpenPreviewForGroup,p=a.onOpenPreviewForUser,q=a.onSearchAbandon,r=a.tokenItemRenderer,s=a.tokens,t=a.xstyles;a=babelHelpers.objectWithoutPropertiesLoose(a,["entryPoint","includeRecommendations","layoutStategyRenderer","onChangeIsFetching","onChangeTokens","onClosePreview","onOpenPreviewForGroup","onOpenPreviewForUser","onSearchAbandon","tokenItemRenderer","tokens","xstyles"]);var u=d("CometRelay").useRelayEnvironment(),v=k(null),w=l(!1),x=w[0],y=w[1];w=c("useMWChatOpenTabForPage")("search",b);var z=c("useMWChatOpenTabForGroup")("search",b),A=z[0];z[1];z=c("useMWChatOpenTabForUser")("search",b);var B=z[0];z[1];var C=d("WorkplaceMSCreateThread").useHook("comet_create_group"),D=a.openTabForPage||w;b=i(function(a){m(function(b){return a});v.current!=null&&v.current.unsubscribe();g(!1);switch(a.length){case 0:n();break;case 1:var b=a[0];b=b.getRawData();b=b.id;p(b);break;default:b=c("compactArray")(a.map(function(a){return a.getRawData().id}));g(!0);v.current=d("MWChatCanonicalGroupSearchQuery").fetchCanonicalGroupThreadId(u,b,{error:function(){g(!1)},next:function(a){g(!1),a!=null?o(a):n()}})}},[m,n,p,g,u,o]);z=i(function(a){var b=a.getRawData(),d=b.id;b=b.resultType;switch(b){case c("MWChatSearchResultType").GROUP:c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",thread_fbid:d}});A(d);break;case c("MWChatSearchResultType").PAGE:c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",other_user_fbid:d}});D(d);break;case c("MWChatSearchResultType").USER:c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",other_user_fbid:d}});a.getIsInstagramAccount()&&B(d);break;default:return}},[A,D,B]);a=i(function(){if(x)return;v.current!=null&&v.current.unsubscribe();if(s.length===1){var a=s[0];a=a.getRawData();a=a.id;B(a)}if(s.length>1){var b=c("compactArray")(s.map(function(a){return a.getRawData().id}));g(!0);v.current=d("MWChatCanonicalGroupSearchQuery").fetchCanonicalGroupThreadId(u,b,{error:function(){g(!1)},next:function(a){if(a!=null){A(a);return}C(b).then(function(a){A(a)})["catch"](function(){g(!1)})}})}y(!0)},[x,s,g,B,u,A,C]);j(function(){return function(){v.current!=null&&v.current.unsubscribe()}},[]);return h.jsx(c("MWChatSearchTypeahead.react"),{includeRecommendations:e,isDisabled:x,layoutStategyRenderer:f,onAddToken:z,onChangeTokens:b,onSearchAbandon:q,onSearchCompletion:a,tokenItemRenderer:r,tokens:s,xstyles:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkMWChatHeaderNew.bs",["fbt","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{position:"l9j0dhe7",display:"j83agx80",flexShrink:"pfnyh3mw",justifyContent:"i1fnvgqd",alignItems:"bp9cbjyn",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",paddingEnd:"d1544ag0",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",backgroundColor:"nred35xi",height:"k7cz35w2",zIndex:"kavbgo14"},title:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",whiteSpace:"g0qnabr5",textOverflow:"ltmttdrg",fontWeight:"ekzkrbhg",color:"oo9gr5id"}};function a(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx("div",{className:i(k.title),children:g._("New Message")})})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatTabContainerNew.bs",["fbt","BootloaderResource","CometPlaceholder.react","CometProgressRingIndeterminate.react","CurrentUser","JSResource","LSThreadAttributionStore.bs","MWChatBlurNewTab.bs","MWChatCloseNewTab.bs","MWChatConfirmTabCloseDialog.bs","MWChatFocusComposerContext.bs","MWChatFocusNewTab.bs","MWChatHasSearchTabContent.bs","MWChatHeaderNew.bs","MWChatOpenTabForGroup.bs","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWChatSearchClearSearchResults.bs","MWChatSearchTypeaheadContainer.react","MWChatTabContainerShared.bs","MWChatTabFocusHandler.bs","MWChatTokenizerLayoutContextualStrategy.react","MWChatTokenizerTokenStrategy.react","MessengerWebEntryPoint","WorkMWChatHeaderNew.bs","bs_caml_option","bs_curry","gkx","qex","react","stylex","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{height:"datstx6m",display:"j83agx80",position:"l9j0dhe7",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",isolation:"fbhpx0h9"},searchInput:{flexShrink:"pfnyh3mw",minHeight:"tgvbjcpo",zIndex:"tkr6xdv7",backgroundColor:"nred35xi",maxHeight:"nwf6jgls",boxShadow:"flhsghwj"},searchInputForContactsList:{borderBottom:"s1tcr66n",boxShadow:"mvk8q8v6"},searchView:{boxShadow:"mvk8q8v6"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",flexGrow:"buofh1pr"}},l=b("JSResource")("MWChatTabNew.bs").__setRef("MWChatTabContainerNew.bs");function m(a,c,d,e,f,g,h,i,j,k){k={previewThreadID:a,isTabFocused:c,isFetching:d,hasContent:e,tokens:f,openTabForUser:g,openTabForGroup:h,openTabForPage:i};j!==void 0&&(k.empty=b("bs_caml_option").valFromOption(j));return k}function n(a){return j.createElement(b("BootloaderResource").read(l).make,a)}c={reasonResource:l,makeProps:m,make:n};var o=b("JSResource")("WorkplaceChatTabNew.bs").__setRef("MWChatTabContainerNew.bs");function p(a,c,d,e,f,g){g={previewThreadID:a,isTabFocused:c,hasContent:e,tokens:f};d!==void 0&&(g.quickRepliesUI=b("bs_caml_option").valFromOption(d));return g}function q(a){return j.createElement(b("BootloaderResource").read(o).make,a)}d={reasonResource:o,makeProps:p,make:q};var r=b("JSResource")("MWChatTabContactsContainer.bs").__setRef("MWChatTabContainerNew.bs");function s(a,b,c,d){return{isSearchView:a,onOpenPreviewForUser:b,setTokens:c}}function t(a){return j.createElement(b("BootloaderResource").read(r).make,a)}e={reasonResource:r,makeProps:s,make:t};var u=b("JSResource")("WorkGalahadMWChatSearchTypeaheadContainer.bs").__setRef("MWChatTabContainerNew.bs");function v(a,b,c,d,e,f,g,h){return{tokens:a,onChangeTokens:b,onChangeIsFetching:c,onSearchAbandon:d,onClosePreview:e,onOpenPreviewForUser:f,onOpenPreviewForGroup:g}}function w(a){return j.createElement(b("BootloaderResource").read(u).make,a)}var x={reasonResource:u,makeProps:v,make:w},y=b("JSResource")("MWChatRHCSearchTypeahead.bs").__setRef("MWChatTabContainerNew.bs");function z(a,c,d,e){e={};a!==void 0&&(e.emptyEntries_DO_NOT_USE=b("bs_caml_option").valFromOption(a));c!==void 0&&(e.onEscape=b("bs_caml_option").valFromOption(c));d!==void 0&&(e.entryPoint=b("bs_caml_option").valFromOption(d));return e}function A(a){return j.createElement(b("BootloaderResource").read(y).make,a)}var B={reasonResource:y,makeProps:z,make:A};function a(a){var c=a.hasContent,d=a.isMultitab,e=a.isSearchView,f=a.isTabFocused,h=a.useSidebarChatStyles,l=a.searchInitialParticipant;a=d!==void 0?d:!1;d=h!==void 0?h:!1;var o=b("MWChatHasSearchTabContent.bs").useHook(void 0),r=b("MWChatSearchClearSearchResults.bs").useHook(void 0),u=b("MWChatCloseNewTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),x=b("MWChatFocusNewTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),y=b("MWChatBlurNewTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN);h=j.useState(function(){if(l!==void 0)return[b("bs_caml_option").valFromOption(l)];else return[]});var B=h[1],C=h[0];h=j.useState(function(){if(C.length!==1)return;var a=C[0];return{NAME:"User",VAL:a.getRawData().id}});var D=h[1];h=h[0];var E=function(a){b("bs_curry")._1(D,function(b){return{NAME:"User",VAL:a}});return b("bs_curry")._1(r,void 0)},F=j.useState(function(){return!1}),G=F[1],H=b("useCometConfirmationDialog")(),I=H[0],J=j.useCallback(function(a){if(b("bs_curry")._1(o,void 0))return b("bs_curry")._3(I,b("MWChatConfirmTabCloseDialog.bs").content,function(a){b("bs_curry")._1(u,void 0);return b("bs_curry")._1(r,void 0)},function(a){});else{b("bs_curry")._1(u,void 0);return b("bs_curry")._1(r,void 0)}},[I,u,r]);H=b("qex")._("1586110");H=H==null?{}:{fontSize:String(H)+"px"};var K=b("bs_curry")._3(b("MWChatOpenTabForUser.bs").useHook,void 0,void 0,b("MessengerWebEntryPoint").SEARCH),L=b("bs_curry")._3(b("MWChatOpenTabForPage.bs").useHook,void 0,void 0,b("MessengerWebEntryPoint").SEARCH),M=b("bs_curry")._3(b("MWChatOpenTabForGroup.bs").useHook,void 0,void 0,b("MessengerWebEntryPoint").SEARCH),N=j.useMemo(function(){return b("MWChatTokenizerLayoutContextualStrategy.react").createMWChatTokenizerLayoutContextualStrategy(!1,"root")},[]),O=b("LSThreadAttributionStore.bs").getSourceForNewThread(void 0),P=b("CurrentUser").isWorkUser();return j.jsx("div",{className:(i||(i=b("stylex")))(b("CurrentUser").isWorkUser()?b("MWChatTabContainerShared.bs").styles.workChatTab:b("MWChatTabContainerShared.bs").styles.chatTab,a?b("MWChatTabContainerShared.bs").styles.chatTabNoBottomRadius:!1,d?b("MWChatTabContainerShared.bs").styles.sidebarChatOverrides:!1,b("qex")._("1586109")===!0?b("MWChatTabContainerShared.bs").styles.chatTabThin:!1),style:H,children:j.jsx(b("MWChatFocusComposerContext.bs").provider,{children:j.jsx(b("MWChatTabFocusHandler.bs").make,{onEscape:function(a){return b("bs_curry")._1(J,void 0)},onFocus:function(a){return b("bs_curry")._1(x,void 0)},onBlur:function(a){if(f)return b("bs_curry")._1(y,void 0)},children:j.jsxs("div",{className:i(k.container),children:[b("CurrentUser").isWorkUser()?j.jsx(b("WorkMWChatHeaderNew.bs").make,{}):j.jsx(b("MWChatHeaderNew.bs").make,{isTabFocused:f,closeChatTab:J,title:e?g._("Search Messenger"):g._("New Message")}),j.jsx("div",{className:i(k.searchInput,e?k.searchView:!1,b("gkx")("1526694")&&C.length===0?k.searchInputForContactsList:!1),children:P?j.jsx(w,v(C,B,function(a){return b("bs_curry")._1(G,function(b){return a})},function(a){return b("bs_curry")._1(J,void 0)},function(a){return b("bs_curry")._1(D,function(a){})},E,function(a){b("bs_curry")._1(D,function(b){return{NAME:"Group",VAL:a}});return b("bs_curry")._1(r,void 0)},void 0)):e?j.jsx(A,z(void 0,function(a){return b("bs_curry")._1(J,void 0)},O,void 0)):j.jsx(b("MWChatSearchTypeaheadContainer.react"),{tokens:C,onChangeTokens:B,onChangeIsFetching:function(a){return b("bs_curry")._1(G,function(b){return a})},onSearchAbandon:function(a){return b("bs_curry")._1(J,void 0)},onClosePreview:function(a){return b("bs_curry")._1(D,function(a){})},onOpenPreviewForUser:E,onOpenPreviewForGroup:function(a){return b("bs_curry")._1(D,function(b){return{NAME:"Group",VAL:a}})},tokenItemRenderer:b("MWChatTokenizerTokenStrategy.react"),layoutStategyRenderer:N,entryPoint:O})}),j.jsx(b("CometPlaceholder.react"),{children:b("CurrentUser").isWorkUser()?j.jsx(q,p(h,f,void 0,c,C,void 0)):e?null:j.jsx(n,m(h,f,F[0],c,C,K[0],M[0],L,b("bs_caml_option").some(j.jsx(t,s(e,E,B,void 0))),void 0)),fallback:b("gkx")("1526694")?j.jsx("div",{className:(i||(i=b("stylex")))(k.spinner),children:j.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})}):null})]})})})},"local")}var C=b("MWChatTabContainerShared.bs").styles;a=a;f.shareStyles=C;f.styles=k;f.LazyMWChatTabNew=c;f.LazyWorkplaceChatTabNew=d;f.LazyMWChatTabContactsContainer=e;f.LazyWorkGalahadMWChatSearchTypeaheadContainer=x;f.LazyMWChatRHCSearchTypeahead=B;f.make=a}),null);